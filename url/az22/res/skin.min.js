var VER="4.3.1",DEBUG=!1,UNDEF="undefined",NOLINK="javascript:void(0)",LOCAL=0===location.protocol.indexOf("file:"),LOCALSTORAGE=function(){try{return localStorage.setItem("_t",VER),localStorage.removeItem("_t"),!0}catch(b){return!1}}(),VEND=function(b){return 0<b.indexOf("Trident")?"ms":0<b.indexOf("AppleWebKit")?"webkit":0<b.indexOf("Gecko")?"moz":0<b.indexOf("Presto")?"o":0<b.indexOf("Blink")?"webkit":""}(navigator.userAgent);String.wsp=[];String.wsp[9]=!0;String.wsp[10]=!0;String.wsp[11]=!0;
String.wsp[12]=!0;String.wsp[13]=!0;String.wsp[32]=!0;String.wsp[133]=!0;String.wsp[160]=!0;String.wsp[5760]=!0;String.wsp[6158]=!0;String.wsp[8192]=!0;String.wsp[8193]=!0;String.wsp[8194]=!0;String.wsp[8195]=!0;String.wsp[8196]=!0;String.wsp[8197]=!0;String.wsp[8198]=!0;String.wsp[8199]=!0;String.wsp[8200]=!0;String.wsp[8201]=!0;String.wsp[8202]=!0;String.wsp[8203]=!0;String.wsp[8232]=!0;String.wsp[8233]=!0;String.wsp[8239]=!0;String.wsp[8287]=!0;String.wsp[12288]=!0;
String.prototype.trim=function(){var b=this+"",a=b.length;if(a){var d=String.wsp,c=0;for(--a;0<=a&&d[b.charCodeAt(a)];)--a;for(++a;c<a&&d[b.charCodeAt(c)];)++c;b=b.substring(c,a)}return b};String.prototype.trunc=function(b){var a=this+"";if(a.length<=b)return a.toString();b=a.substring(0,b-1);a=b.lastIndexOf(" ");return(6<a&&20>b.length-a?b.substring(0,a):b)+"..."};String.prototype.startsWith=function(b){return 0===(this+"").indexOf(b)};
String.prototype.endsWith=function(b){return(this+"").substring(this.length-b.length)===b};String.prototype.getExt=function(){var b=this+"",a=b.lastIndexOf(".");return 0>=a||a>=b.length-1?"":b.substring(a+1).toLowerCase()};String.prototype.replaceExt=function(b){var a=this+"",d=a.lastIndexOf(".");return 0>=d?a:a.substring(0,d+1)+b};String.prototype.fixExtension=function(){return(this+"").replace(/.gif$/gi,".png").replace(/.tif+$/gi,".jpg")};
String.prototype.getDir=function(){var b=(this+"").split("#")[0];return b.substring(0,b.lastIndexOf("/")+1)};String.prototype.getFile=function(){var b=(this+"").split("#")[0];return b.substring(b.lastIndexOf("/")+1)};String.prototype.fixUrl=function(){for(var b,a,d=this+"";0<(b=d.indexOf("../"));){if(1===b||-1===(a=d.lastIndexOf("/",b-2)))return d.substring(b+3);d=d.substring(0,a)+d.substring(b+2)}return d};
String.prototype.fullUrl=function(){var b=this+"";b.match(/^(http|ftp|file)/)||(b=window.location.href.getDir()+b);return b.fixUrl()};String.prototype.cleanupHTML=function(){for(var b=[[/<br>/gi,"\n"],[/\&amp;/gi,"&"],[/\&lt;/gi,"<"],[/\&gt;/gi,">"],[/\&(m|n)dash;/gi,"-"],[/\&apos;/gi,"'"],[/\&quot;/gi,'"']],a=this+"",d=b.length-1;0<=d;d--)a=a.replace(b[d][0],b[d][1]);return a};String.prototype.stripHTML=function(){return(this+"").replace(/<\/?[^>]+>/gi,"")};
String.prototype.stripQuote=function(){return(this+"").replace(/\"/gi,"&quot;")};String.prototype.appendSep=function(b,a){return(this.length?this+(a||" &middot; "):"")+b};String.prototype.rgb2hex=function(){var b=this+"";if("#"===b.charAt(0)||"transparent"===b)return b;var a=b.match(/\d+/g),d="";if(a){for(var c=0;c<a.length&&3>c;c++)b=parseInt(a[c],10).toString(16),d+=(2>b.length?"0":"")+b;return"#"+d}return"transparent"};
String.prototype.template=function(b){if(!b||!this)return this;for(var a=this+"",d=0;d<b.length;d++)a=a.replace(RegExp("\\{"+d+"\\}","gi"),b[d]);return a};Math.minMax=function(b,a,d){a=isNaN(a)?parseFloat(a):a;return a<b?b:a>d?d:a};
var getCoords=function(b){return b.touches&&0<b.touches.length?{x:Math.round(b.touches[0].clientX),y:Math.round(b.touches[0].clientY)}:null!==b.clientX?{x:Math.round(b.clientX),y:Math.round(b.clientY)}:{x:UNDEF,y:UNDEF}},noAction=function(b){b.stopPropagation();b.preventDefault();return!1},fixFbComments=function(b){var a=window.location.href;-1===a.indexOf("?fb_comment_id=")?(a=a.split("#")[0],b&&"/"===a[a.length-1]&&(a+=b)):a=a.split("?")[0];document.getElementById("fb-comments").setAttribute("data-href",
a)},initMobile=function(){if(/Mobile/.test(navigator.userAgent)&&!(980<screen.width||980<screen.height||window.innerWidth!==document.documentElement.clientWidth&&window.innerWidth-1!==document.documentElement.clientWidth)){var b=function(){window.pageYOffset&&window.scrollTo(0,window.pageYOffset+1)};setTimeout(function(){b()},1E3);$(window).on("orientationchange",b)}},log=function(){};
(function(b){var a,d=!1,c,e=1;log=function(f){DEBUG&&!d&&(a||(a=b('<div id="log" style="position:fixed;left:0;top:0;width:200px;bottom:0;overflow:auto;padding:10px;background-color:rgba(0,0,0,0.5);color:#fff;font-size:15px;z-index:99999"></div>').hover(function(){d=!0},function(){d=!1}).appendTo("body")),f===c?a.children(":first").empty().html(c+" ("+ ++e+")"):(b('<div style="height:2em;overflow:hidden;">'+f+"</div>").prependTo(a),c=f,e=1))};b.fn.logEvents=function(a){if(DEBUG){var c=a||"mousedown mouseup mouseover mouseout mousewheel dragstart click blur focus load unload reset submit change abort cut copy paste selection drag drop orientationchange touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend";
return this.each(function(){b(this).on(c,function(a){"log"!==a.target.id&&log(a.type+' <span style="padding:0 4px;font-size:0.8em;background-color:#000;border-radius:4px;"><b>'+a.target.nodeName.toLowerCase()+"</b>"+(a.target.id?":"+a.target.id:"")+"</span>"+(a.relatedTarget?' <span style="padding:0 4px;font-size:0.8em;background-color:#800;border-radius:4px;"><b>'+a.relatedTarget.nodeName.toLowerCase()+"</b>"+(a.relatedTarget.id?":"+a.relatedTarget.id:"")+"</span>":""));return!0})})}};b.fn.logCss=
function(a,c,e){if(DEBUG){e=e||20;c=c||2E3;var d=new Date;return this.each(function(){var k=b(this),p=function(a){var b=new Date-d;log(b+"&nbsp;::&nbsp;"+a+" = "+k.css(a));b>c&&clearInterval(m)},m=setInterval(function(){if(b.isArray(a))for(var c=0;c<a.length;c++)p(a[c]);else p(a)},e)})}}})(jQuery);
(function(b,a){a.touchMode=window.navigator.msMaxTouchPoints?0!=window.navigator.msMaxTouchPoints:/(Chrome|CriOS)/.test(navigator.userAgent)?/Mobile/.test(navigator.userAgent):"ontouchstart"in window})(jQuery,document);
(function(b){var a=["DOMMouseScroll","mousewheel"];if(b.event.fixHooks)for(var d=a.length;d;)b.event.fixHooks[a[--d]]=b.event.mouseHooks;b.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var b=a.length;b;)this.addEventListener(a[--b],c,!1);else this.onmousewheel=c},teardown:function(){if(this.removeEventListener)for(var b=a.length;b;)this.removeEventListener(a[--b],c,!1);else this.onmousewheel=null}};b.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},
unmousewheel:function(a){return this.unbind("mousewheel",a)}});var c=function(a){var c=a||window.event,d=[].slice.call(arguments,1),j=0,l=0,k=0;a=b.event.fix(c);a.type="mousewheel";c.wheelDelta?j=c.wheelDelta/120:c.detail&&(j=-c.detail/3);k=j;void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(k=0,l=-1*j);void 0!==c.wheelDeltaY&&(k=c.wheelDeltaY/120);void 0!==c.wheelDeltaX&&(l=-1*c.wheelDeltaX/120);d.unshift(a,j,l,k);return(b.event.dispatch||b.event.handle).apply(this,d)}})(jQuery);
(function(b){b.event.special.dbltap={setup:function(){b(this).on("touchend.dbltap",b.event.special.dbltap.handler)},teardown:function(){b(this).off("touchend.dbltap")},handler:function(a){var d=[].slice.call(arguments,1),c=b(a.target),e=(new Date).getTime(),f=e-(c.data("lastTouch")||0);if(5<f&&300>f)return c.data("lastTouch",0),a=b.event.fix(a||window.event),a.type="dbltap",d.unshift(a),(b.event.dispatch||b.event.handle).apply(this,d);c.data("lastTouch",e);return!0}}})(jQuery);
(function(b){b.cookie=function(a,d,c){var e,f,h=function(a){return/^(true|yes)$/.test(a)?!0:/^(false|no)$/.test(a)?!1:/^([\d.]+)$/.test(a)?parseFloat(a):a};if(1<arguments.length)return f=new Date,null===d?LOCALSTORAGE?localStorage.removeItem(a):document.cookie=encodeURIComponent(a)+"=; expires="+f.toGMTString()+"; path=/":/^(string|number|boolean)$/.test(typeof d)&&(f.setTime(f.getTime()+1E3*("number"!==typeof c?3600:c)),LOCALSTORAGE?localStorage.setItem(a,String(d)+"; "+String(f.getTime())):document.cookie=
encodeURIComponent(a)+"="+String(d)+"; expires="+f.toGMTString()+"; path=/"),d;if(a)if(LOCALSTORAGE){if(e=localStorage.getItem(a))if(e=e.split("; "),b.isArray(e)&&1<e.length){f=new Date;if(f.getTime()<parseInt(e[1],10))return h(e[0]);localStorage.removeItem(a)}else return h(e)}else{e=document.cookie.split(";");a+="=";for(var j=0;j<e.length;j++)f=e[j].trim(),0===f.indexOf(a)&&(f=f.substring(a.length),h(f))}return null}})(jQuery);
(function(b){var a=-1===navigator.userAgent.indexOf("Firefox"),d={put:function(a,b){(b||window).location.hash=this.encoder(a)},get:function(b){b=(b||window).location.hash.replace(/^#/,"");try{return a?decodeURIComponent(b):b}catch(c){return b}},encoder:encodeURIComponent},c={base:{callback:void 0,type:void 0,check:function(){},load:function(){},init:function(a,c){var j;j=b.extend({unescape:!1},c||{});var l=j.unescape;if(!0===l)j=function(a){return a};else{if(j="string"===typeof l){j=l.split("");var k=
RegExp(b.map(j,encodeURIComponent).join("|"),"ig");j=l=function(a){return a.replace(k,decodeURIComponent)}}j=j||"function"===typeof l?function(a){return l(encodeURIComponent(a))}:encodeURIComponent}d.encoder=j;e.callback=a;e._options=c;e._init()},_init:function(){},_options:{}},timer:{_appState:void 0,_init:function(){var a=d.get();e._appState=a;e.callback(a);setInterval(e.check,100)},check:function(){var a=d.get();a!==e._appState&&(e._appState=a,e.callback(a))},load:function(a){a!==e._appState&&
(d.put(a),e._appState=a,e.callback(a))}},hashchangeEvent:{_init:function(){e.callback(d.get());b(window).on("hashchange",e.check)},check:function(){e.callback(d.get())},load:function(a){d.put(a)}}},e=b.extend({},c.base);e.type="onhashchange"in window?"hashchangeEvent":"timer";b.extend(e,c[e.type]);b.history=e})(jQuery);
(function(b){b.fn.addModal=function(a,d,c){"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){b.isArray(d)||(c=d,d=null);c=b.extend({},b.fn.addModal.defaults,c);c.savePosition=c.savePosition&&typeof c.uid!==UNDEF;var e,f,h,j,l,k,p=0,m;e=b(this).find(b("._m_window"));e.length?(c.uid&&e.find("#"+c.uid).remove(),m=clearTimeout(m),e.stop(!0,!1).css({opacity:1,display:"block"})):(e=b("<div>",{"class":"_m_window",role:"modal"}).css({opacity:0}).appendTo(b(this)),b(this).css({position:"relative"}),
c.darkenBackground||e.css({backgroundImage:"none",backgroundColor:"transparent"}));f=b("<div>",{id:c.uid||"_mod_"+Math.floor(1E4*Math.random()),"class":"_m_panel"}).css({width:c.width}).appendTo(e);h=b("<header>",{"class":"_m_head"}).appendTo(f);h.append(b("<h5>",{text:c.title}));var t=function(){j.trigger("removeHint");m=clearTimeout(m);e.animate({opacity:0},c.speed,function(){e.remove()});return!1};e.on("destroy",t);if(c.closeOnClickOut&&c.darkenBackground)e.on("click",function(a){b(a.target).hasClass("_m_window")&&
t(a);return!0});j=b("<a>",{href:NOLINK,"class":"close"}).appendTo(h);document.touchMode?j[0].ontouchend=t:(j.on("click",t),j.addHint(c.closeWindow));var u=function(a){var d=f.position().left,m=f.position().top,g=getCoords(a),q=e.width()-f.width()-c.pad,j=e.height()-f.height()-c.pad,l=h.css("cursor");h.css({cursor:"move"});var t=function(a){a=getCoords(a);f.css({left:Math.minMax(c.pad,d+a.x-g.x,q),top:Math.minMax(c.pad,m+a.y-g.y,j)});return!1},k=function(){b(document).off({mousemove:t,mouseup:k});
h.css("cursor",l);c.savePosition&&s();return!1};if(document.touchMode)this.ontouchmove=t,this.ontouchend=k;else b(document).on({mousemove:t,mouseup:k});return!1};if(document.touchMode)h[0].ontouchstart=u;else h.on("mousedown",u);l=b("<div>",{"class":"_m_cont"}).appendTo(f);k=b("<div>",{"class":"_m_cont_i"}).append(a).appendTo(l);if(d&&d.length){var q,w=b("<div>",{"class":"buttons"}).appendTo(k),n=function(a){q.each(function(c){b(this).toggleClass("active",c===a)})},r=function(){b(document).off("keydown",
g);t()},g=function(a){if(document.activeElement&&"input"===document.activeElement.nodeName||b.isFunction(c.enableKeyboard)&&!c.enableKeyboard())return!0;var e=a?a.keyCode:window.event.keyCode;if(27===e)return r(),!1;if(w){var d=w.find("a.active"),f=q.index(d);switch(e){case 13:case 10:b.isFunction(d[0].handler)&&(d[0].handler.call(),r());break;case 39:n((f+1)%q.length);break;case 37:n(f?f-1:q.length-1);break;default:return a.returnValue=!0}return!1}return a.returnValue=!0},z=function(a){a=a.target;
b.isFunction(a.handler)&&a.handler.call();r();return!1};for(a=0;a<d.length;a++)a&&w.append(" "),u=b("<a>",{href:NOLINK,html:d[a].t}).on("click",z).appendTo(w),b.isFunction(d[a].h)&&(u[0].handler=d[a].h);q=w.children("a");q.last().addClass("active");if(b.isFunction(c.enableKeyboard)||c.enableKeyboard)b(document).on("keydown",g)}if(c.resizable)if(h.on("dblclick",function(){var a=[f.position().left,f.position().top,f.width(),f.height()],b=[c.pad,c.pad,e.width()-2*c.pad,e.height()-2*c.pad],d=function(a){f.css({left:Math.minMax(c.gap,
a[0],e.width()-a[2]-c.gap),top:Math.minMax(c.gap,a[1],e.height()-a[3]-c.gap),width:a[2],height:a[3]});k.css({height:a[3]-p})};a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]?d(f.data("wpos")):(d(b),f.data("wpos",a));c.savePosition&&s();return!1}),d=b("<a>",{"class":"resize"}).appendTo(f),a=function(a){var e=f.width(),d=f.height(),m=getCoords(a),g=function(a){a=getCoords(a);var b=Math.max(d+a.y-m.y-p,20);f.css({width:Math.max(e+a.x-m.x,60),height:b+p});k.css({height:b});return!1},q=function(){b(document).off({mousemove:g,
mouseup:q});c.savePosition&&s();return!1};if(document.touchMode)this.ontouchmove=g,this.ontouchend=q;else b(document).on({mousemove:g,mouseup:q});return!1},document.touchMode)d[0].ontouchstart=a;else d.on("mousedown",a);var x=function(){var a=f.width(),b=f.height(),d=e.width(),m=e.height();p=b-k.height();a&&(b&&d&&m)&&(a+2*c.pad>d&&f.css({width:a=d-2*c.pad}),b+2*c.pad>m&&(f.css({height:b=m-2*c.pad}),k.css({height:m-2*c.pad-p})),f.css({left:Math.max(Math.round((d-a)/2),c.pad),top:Math.max(Math.round((m-
b)/2),c.pad)}))},s=function(){b.cookie("modalPosition"+c.uid,f.position().left+","+f.position().top+","+f.width()+","+f.height())},A=c.savePosition?b.cookie("modalPosition"+c.uid):null;e.css({opacity:0}).show();setTimeout(function(){if(A&&(A=A.split(","))&&b.isArray(A)&&3<A.length){var a=A,d=e.width(),g=e.height(),q=Math.minMax(c.pad,parseInt(a[0],10),d-c.pad-60),j=Math.minMax(c.pad,parseInt(a[1],10),g-c.pad-60),a=Math.minMax(60,parseInt(a[2],10),d-q-c.pad),u;(isNaN(q)||isNaN(j)||isNaN(a)||isNaN(u))&&
x();p=h.outerHeight()+parseInt(l.css("padding-top"),10)+parseInt(l.css("padding-bottom"),10)+parseInt(k.css("padding-top"),10)+parseInt(k.css("padding-bottom"),10)+parseInt(l.css("border-top-width"),10);f.css({position:"absolute",left:q,top:j,width:a});if(f.height()>(u=g-j-c.pad))f.css({height:u}),k.css({height:u-p})}else x();e.animate({opacity:1},c.speed);c.savePosition&&s();c.autoFade&&(m=setTimeout(t,c.autoFade))},40);return this}};b.fn.addModal.defaults={speed:250,autoFade:0,width:400,resizable:!0,
enableKeyboard:!0,closeOnClickOut:!0,closeWindow:"Close window",darkenBackground:!0,savePosition:!0,pad:6}})(jQuery);
(function(b){b.fn.addHint=function(a,d){a&&("string"!==typeof a&&!a.jquery)&&(d=a,a=null);d=b.extend({},b.fn.addHint.defaults,d);return this.each(function(){var c=b(this),e=a||c.attr("title"),f,h=!1,j=!1,l=!(e&&e.jquery),k;if(e&&e.length){c.data("hint",e);var p=function(){if(l){var a=b("#"+d.id);a.length||(a=b("<div>",{"class":d.id,id:d.id}).hide().appendTo("body"));k=a;k.empty().html(e)}else k=e.show();k.off("mouseover",m);k.off("mouseout",w);var m=function(){f=clearTimeout(f);h=!0;k.stop(!0,!0).css({opacity:1}).show()},
w=function(){j||(f=clearTimeout(f),h=!1,t())};k.on("mouseover",m);k.on("mouseout",w);k.find("input").on({focus:function(){j=!0;m()},blur:function(){j=!1}});k.stop(!0,!0).alignTo(c,{posX:d.posX,posY:d.posY,toX:d.toX,toY:d.toY});k.css({opacity:0}).show().animate({opacity:1},200);document.touchMode?f=setTimeout(t,d.stay):h=!0},m=function(){h=!1;f=clearTimeout(f);t()};c.on("removeHint",m);var t=function(){!h&&(k&&k.length)&&k.stop(!0,!1).animate({opacity:0},200,function(){b(this).hide()})};e.jquery?e.addClass(d.id):
c.removeAttr("title");c.on(document.touchMode?{touchstart:p}:{"focus mouseenter":p,"blur mouseleave":m})}})};b.fn.addHint.defaults={id:"hint",stay:3E3,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.loadImages=function(a){a=b.extend({},b.fn.loadImages.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector).eq(0)||d.children().eq(0);if(c.length&&d.is(":visible")&&c.is(":visible")){var e=c.find("img."+a.loadClass);if(e.length){var f="absolute"===c.css("position"),h=-(typeof a.left!==UNDEF?a.left:c.position().left-(f?0:d.scrollLeft()))-a.d,j=-(typeof a.top!==UNDEF?a.top:c.position().top-(f?0:d.scrollTop()))-a.d,l=c.offset().left,k=c.offset().top,p=(f?d.width():
b(window).width())+2*a.d,m=(f?d.height():b(window).height())+2*a.d,t,u,q,w,n;e.each(function(){u=b(this);t=u.parent();if(n=u.data("src"))w=t.offset().left-l,q=t.offset().top-k,q<j+m&&(w<h+p&&q+t.outerHeight()>j&&w+t.outerWidth()>h)&&(b("<span>",{"class":a.wait}).appendTo(t),u.hide().on("load",function(){b(this).fadeIn().siblings("."+a.wait).remove()}).attr({src:n}).removeClass(a.loadClass))})}}})};b.fn.loadImages.defaults={selector:".load",loadClass:"toload",wait:"wait",d:80}})(jQuery);
(function(b){b.fn.addScroll=function(a){a=b.extend({},b.fn.addScroll.defaults,a);return this.each(function(){var d,c=b(this),e=c.parent(),f,h,j,l,k,p,m,t,u=0,q,w,n,r,g,z,x;c.css({position:"absolute",width:e.width-20});e.css({overflow:"hidden"});"absolute"!==e.css("position")&&e.css({position:"relative"});f=b("<div>",{"class":a.upbtn}).appendTo(e);h=b("<div>",{"class":a.dnbtn}).appendTo(e);j=b("<div>",{"class":a.scbar}).appendTo(e);l=b("<div>").appendTo(j);k=f.add(h).add(j);k.hide();var s=function(){return c.position().top},
A=function(a){return Math.round((j.height()-6)*-(null==a?s():a)/p)+3},v=function(){return Math.max(Math.round((j.height()-6)*m/p),a.dragMinSize)},B=function(b){null==b&&(b=s());f.css({opacity:b?1:a.disabledOpacity});h.css({opacity:b===m-p?a.disabledOpacity:1})},C=function(){return!1},D=function(){var a=p,b=m;p=c.height();m=e.height();e.scrollTop()&&(c.css({top:-e.scrollTop()}),e.scrollTop(0));if(a!==p||b!==m)p<=m?(c.css({top:0}).off("selectstart",C),k.hide()):(c.position().top<m-p&&c.css({top:m-p}),
l.css({top:A(),height:v()}),c.on("selectstart",C),k.show(),B()),e.loadImages()},y=function(b){clearInterval(t);m>=p||(b=Math.minMax(m-p,Math.round(b),0),l.stop(!0,!0).animate({top:A(b)},a.speed,a.effect),c.stop(!0,!0).animate({top:b},a.speed,a.effect,function(){B(b)}),e.loadImages({top:b}))};f.on("click",function(){y(s()+m);return!1});h.on("click",function(){y(s()-m);return!1});j.on("click",function(a){a.pageY<l.offset().top?y(s()+m):a.pageY>l.offset().top+l.height()&&y(s()-m);return!1});if(a.enableMouseWheel)c.on("mousewheel",
function(b,c){c&&y(s()+a.wheelIncr*(0>c?-1:1));return!1});var H=function(a){l.css({top:Math.minMax(2,Math.round(a.pageY-l.data("my")),j.height()-l.height()-2)});c.css({top:Math.minMax(m-p,-Math.round((l.position().top-3)*p/(j.height()-6)),0)});B();e.loadImages();return!1},J=function(){b(document).off("mousemove",H).off("mouseup",J);return!1};l.on("mousedown",function(a){b(this).data("my",Math.round(a.pageY)-b(this).position().top);b(document).on({mousemove:H,mouseup:J});return!1});var F=function(a){return u=
a.touches&&0<a.touches.length?a.touches[0].clientY:a.clientY?a.clientY:u},K=function(){z+=Math.round(g/20);var a=r+z;0<a||a<x?clearInterval(t):(c.css({top:a}),l.css({top:A(),height:v()}),g*=0.8,10>Math.abs(g)&&(g=0,clearInterval(t)))},Y=function(a){if(w){if(a=F(a)-w)c.data("dragOn",!0),c.css({top:Math.minMax(x,q+a,0)}),l.css({top:A(),height:v()})}else w=F(a);return!1},S=function(a){r=s();a=F(a)-w;var d=(new Date).getTime()-n;g=1E3*a/d;t=setInterval(K,50);document.touchMode?this.ontouchend=this.ontouchmove=
null:b(document).off({mousemove:Y,mouseup:S});setTimeout(function(){c.data("dragOn",!1)},20);e.loadImages();return 4>Math.abs(a)&&300>d},T=function(d){if(c.data("dragOn"))return S(d),!0;if(d.target.scrollHeight-1>d.target.clientHeight||a.dontDrag&&(b(d.target).is(a.dontDrag).length||b(d.target).parents(a.dontDrag).length)||m>=p||("touchstart"===d.type||"touchmove"===d.type)&&(!d.touches||1<d.touches.length||c.is(":animated")))return!0;clearInterval(t);q=s();w=F(d);n=(new Date).getTime();z=0;x=m-p;
if(document.touchMode)return b(d.target).closest("a").focus(),this.ontouchmove=Y,this.ontouchend=S,!0;b(document).on({mousemove:Y,mouseup:S});return!1};if(document.touchMode)c[0].ontouchstart=T;else c.on("mousedown",T);b(window).on("resize",function(){clearTimeout(d);d=setTimeout(D,50)});d=setTimeout(D,10);a.refresh&&setInterval(function(){b("[role=gallery]").is(":visible")||D()},a.refresh);c.attr("role","scroll").data("dragOn",!1).on("adjust",D);k.on("selectstart",C);T=function(){var a=b(this).parent()===
c?b(this):b(this).parent(),d=a.position().top,a=a.outerHeight(!0),f=c.position().top,m=e.height();if(!(m>c.height())){if(d+a>m-f)f=Math.max(m-a-d,m-c.height());else if(d<-f)f=-d;else return;y(f)}};if(a.focusActive)c.find("a").on("setactive",T);c.on("click",function(){return!b(this).data("dragOn")});if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(document).on("keydown",function(c){if(document.activeElement&&"INPUT"===document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;
switch(c?c.keyCode:window.event.keyCode){case 33:return y(s()+m),!1;case 34:return y(s()-m),!1}return c.returnValue=!0})})};b.fn.addScroll.defaults={upbtn:"scrup",dnbtn:"scrdn",scbar:"scrbar",dragMinSize:10,speed:300,effect:"swing",disabledOpacity:0.3,wheelIncr:50,enableKeyboard:!0,enableMouseWheel:!0,focusActive:!0,refresh:0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutBack:function(a,b,c,e,f,h){null==h&&(h=1.70158);return e*((b=b/f-1)*b*((h+1)*b+h)+1)+c}});b.fn.scrollThumbs=function(a){a=b.extend({},b.fn.scrollThumbs.defaults,a);return this.each(function(){var d=b(this),c=d.parent(),e=0,f,h,j,l,k,p,m,t,u=b("<div>",{"class":a.scleft}).insertAfter(c),q=b("<div>",{"class":a.scright}).insertAfter(c),w=function(b){b=null==b?d.position().left:b;u.css({opacity:0>b?1:a.disabledOpacity});q.css({opacity:c.width()<b+d.width()?1:
a.disabledOpacity})},n=function(e){var f=c.width(),m=d.width();f&&(m&&!(f>=m)&&b.isNumeric(e))&&(0<e?e=0:e<f-m&&(e=f-m),w(e),d.stop(!0,!1),d.animate({left:e},a.speed,a.effect),c.loadImages({left:e}))};u.on("click",function(){n(d.position().left+c.width());return!1});q.on("click",function(){n(d.position().left-c.width());return!1});d.on("setactive",function(){var b=d.find(a.active).closest("li");if(b.length){var e=b.position().left,b=b.outerWidth(!0),f=Math.round(b*a.headRoom),m=d.position().left,
g=c.width();if(!(g>d.width())){if(e>g-b-f-m)m=Math.max(g-b-f-e,g-d.width());else if(e<-m+f)m=-e+f;else return;n(m)}}});var r=function(a,b){a.preventDefault();b&&n(d.position().left+c.width()*(0>b?-1:1));return!1};if(a.enableMouseWheel)d.on("mousewheel",r);w();var g=function(a){return e=a.touches&&0<a.touches.length?a.touches[0].clientX:a.clientX?a.clientX:e},z=function(){p+=Math.round(k/20);var a=l+p;0<a||a<m?clearInterval(t):(d.css({left:a}),k*=0.8,10>Math.abs(k)&&(k=0,clearInterval(t)))},x=function(a){if(h){if(a=
g(a)-h)d.data("dragOn",!0),d.css({left:Math.minMax(m,f+a,0)})}else h=g(a);return!1},s=function(a){l=d.position().left;a=g(a)-h;var e=(new Date).getTime()-j;k=1E3*a/e;t=setInterval(z,50);document.touchMode?this.ontouchend=this.ontouchmove=null:b(document).off({mousemove:x,mouseup:s});setTimeout(function(){d.data("dragOn",!1)},20);c.loadImages();return 4>Math.abs(a)&&300>e},r=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||d.is(":animated")))return!0;clearInterval(t);
f=d.position().left;h=g(a);j=(new Date).getTime();p=0;m=c.width()-d.width();if(document.touchMode)return b(a.target).closest("a").focus(),this.ontouchmove=x,this.ontouchend=s,!0;b(document).on({mousemove:x,mouseup:s});return!1};if(document.touchMode)d[0].ontouchstart=r;else d.on("mousedown",r);d.attr("role","scroll");d.add(u).add(q).on("selectstart",noAction);c.loadImages()})};b.fn.scrollThumbs.defaults={active:".active",scleft:"scleft",scright:"scright",speed:1500,incr:100,effect:"easeOutBack",headRoom:0.67,
disabledOpacity:0.3,enableMouseWheel:!0}})(jQuery);
(function(b){b.extend(jQuery.easing,{easeOutCubic:function(a,b,c,e,f){return e*((b=b/f-1)*b*b+1)+c}});b.fn.addSwipe=function(a,d,c){c=b.extend({},b.fn.addSwipe.defaults,c);return this.each(function(){var e=b(this),f=0,h=0,j=0,l=0,k,p,m,t,u,q,w,n,r,g,z,x;e.attr("draggable","true");var s=function(a){a.touches&&0<a.touches.length?(f=a.touches[0].clientX,h=a.touches[0].clientY):a.clientX&&(f=a.clientX,h=a.clientY)},A=function(a){s(a);j=f;l=h},v=function(a){document.touchMode&&(a.preventDefault(),a.stopPropagation());
j?(s(a),x?e.css({left:f-j+k}):e.css({left:f-j+k,top:h-l+p})):A(a);return!1},B=function(){return!1},C=function(u){s(u);var r=(new Date).getTime()-m;u=f-j;document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null):b(document).off("mousemove",v).off("mouseup click",C);n<t?Math.abs(u)<c.treshold?(x?e.animate({left:k},200):e.animate({left:k,top:p},200),e.trigger("click")):(x?e.animate({left:e.position().left+Math.round(333*(f-j)/r)},500,"easeOutCubic"):e.animate({left:e.position().left+Math.round(333*
(f-j)/r),top:e.position().top+Math.round(333*(h-l)/r)},500,"easeOutCubic"),0>u?b.isFunction(a)&&a.call():b.isFunction(d)&&d.call()):(x?e.animate({left:Math.minMax(g,e.position().left+Math.round(333*(f-j)/r),c.margin)},500,"easeOutCubic"):e.animate({left:Math.minMax(g,e.position().left+Math.round(333*(f-j)/r),c.margin),top:Math.minMax(z,e.position().top+Math.round(333*(h-l)/r),c.margin)},500,"easeOutCubic"),r=e.position().left,0>u?r+n<q&&b.isFunction(a)&&a.call():r>w&&b.isFunction(d)&&d.call());return!1},
D=function(a){if(("touchstart"===a.type||"touchmove"===a.type)&&(!a.touches||1<a.touches.length||e.is(":animated")))return!0;A(a);y(a)},y=function(a){e.stop(!0,!1);k=e.position().left;p=e.position().top;m=(new Date).getTime();t=e.parent().outerWidth();u=e.parent().outerHeight();q=t*(1-c.oversizeTreshold);w=t*c.oversizeTreshold;n=e.outerWidth();r=e.outerHeight();g=t-c.margin-n;z=u-c.margin-r;x=r<=u;if(document.touchMode)return e[0].ontouchmove=v,e[0].ontouchend=C,!0;e.off("click");e.click(B);b(document).on({mousemove:v,
mouseup:C});a.cancelBubble=!0;return!1};if(document.touchMode)e[0].ontouchstart=D;else e.on({dragstart:y,mousedown:A});e.on("dragcancel",function(){e.stop(!0,!1).animate({left:k,top:p},200);return!1});e.on("unswipe",function(){document.touchMode?(e[0].ontouchmove=null,e[0].ontouchend=null,e[0].ontouchstart=null):(b.isFunction(e.noAction)&&e.off(B),b.isFunction(e.dragStart)&&e.off(y),b(document).off("mousemove",v).off("mouseup",C))});e.on("selectstart",B)})};b.fn.addSwipe.defaults={treshold:40,oversizeTreshold:0.15,
margin:15}})(jQuery);
(function(b){b.fn.alignTo=function(a,d){d=b.extend({},b.fn.alignTo.defaults,d);"string"===typeof a&&(a=b(a));if(a instanceof b&&a.length){var c=a.offset(),e=a.outerWidth(),f=a.outerHeight(),h=b(window).width(),j=b(window).height();return b(this).each(function(){var a=b(this);a.css("maxHeight","none");var k=a.outerWidth(),p=a.outerHeight(),m=Math.round(c.left+d.toX*e/2+(d.toX-1)*d.gap),t=Math.round(c.top+d.toY*f/2+(d.toY-1)*d.gap),m=Math.round(m-d.posX*k/2),t=Math.round(t-d.posY*p/2);if(0>t||t+p>j)1!==
d.toX?t=0:0===d.toY?j>2*c.top+f&&(t=c.top+f+d.gap):2===d.toY&&j<2*c.top+f&&(t=Math.max(0,c.top-p-d.gap)),0>t&&(t=0),t+p>j&&a.css({overflow:"auto",maxHeight:j-t-(parseInt(a.css("paddingTop"),10)+parseInt(a.css("paddingBottom"),10))});if(0>m||m+k>h)1!==d.toY?m=0:0===d.toX?h>2*c.left+e&&(m=c.left+e+d.gap):2===d.toX&&h<2*c.left+e&&(m=Math.max(0,c.left-k-d.gap)),0>m&&(m=0),m+k>h&&a.css({overflow:"auto",maxWidth:h-m-(parseInt(a.css("paddingLeft"),10)+parseInt(a.css("paddingRight"),10))});a.css({position:"absolute",
left:m,top:t})})}};b.fn.alignTo.defaults={gap:5,posX:1,posY:2,toX:1,toY:0}})(jQuery);
(function(b){b.fn.addPlayer=function(a,d){a=b.extend({},b.fn.addPlayer.defaults,a);d=b.extend({},b.fn.addPlayer.text,d);var c=0<=navigator.userAgent.indexOf("Firefox")&&0<=navigator.platform.indexOf("Mac");if(typeof b.fn.jPlayer!==UNDEF){var e={cont:"jp-cont",mini:"jp-mini",audio:"jp-audio",video:"jp-video",playerType:"jp-type-single",player:"jp-jplayer",title:"jp-title",progress:"jp-progress",controls:"jp-controls-holder",startStop:"jp-startstop",volume:"jp-volume",times:"jp-times",toggles:"jp-toggles",
warning:"jp-warning",videoPlay:"jp-video-play",play:"jp-play",pause:"jp-pause",stop:"jp-stop",seekBar:"jp-seek-bar",playBar:"jp-play-bar",mute:"jp-mute",unmute:"jp-unmute",volumeBar:"jp-volume-bar",volumeBarValue:"jp-volume-bar-value",volumeMax:"jp-volume-max",currentTime:"jp-current-time",duration:"jp-duration",fullScreen:"jp-full-screen",restoreScreen:"jp-restore-screen",repeat:"jp-repeat",repeatOff:"jp-repeat-off",gui:"jp-gui",noSolution:"jp-no-solution",playing:"playing"},f=function(a){var b,
c=function(a){return'<a class="'+e[a]+'" title="'+d[a]+'">'+d[a]+"</a>"};b='<div class="'+e.progress+'"><div class="'+e.seekBar+'"><div class="'+e.playBar+'"></div></div></div>';b+='<div class="'+e.controls+'">';b+='<div class="'+e.startStop+'">'+c("play")+c("pause")+c("stop")+"</div>";b+='<div class="'+e.volume+'">'+c("mute")+c("unmute")+'<div class="'+e.volumeBar+'"><div class="'+e.volumeBarValue+'"></div></div></div>';b+='<div class="'+e.times+'"><div class="'+e.currentTime+'"></div><div class="'+
e.duration+'"></div></div>';b+='<div class="'+e.toggles+'">'+(a?"":c("fullScreen")+c("restoreScreen"))+c("repeat")+c("repeatOff")+"</div>";return b+"</div>"},h=function(){var a;(a=b(this).data("media"))&&a.jPlayer("pause");return!1},j=function(){var a;(a=b(this).data("media"))&&a.jPlayer("destroy");b(window).off("keydown",m);return!1},l=function(){var a;(a=b(this).data("media"))&&a.jPlayer("stop");return!1},k=function(){var a;(a=b(this).data("media"))&&a.jPlayer("play");return!1},p=b(this).eq(0),
m=function(a){return document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)?!0:32===(a?a.keyCode:window.event.keyCode)?(p.find("."+e.player).jPlayer(p.data(e.playing)?"pause":"play"),!1):!0},t=function(b){return a.hasOwnProperty("audio")?a.audio:0<".mp3.m4a.f4a.rtmpa".indexOf(b.getExt())},u=function(a){var b=t(a)?"a":"v";switch(a.getExt()){case "mp3":a="mp3";break;case "mp4":a="m4"+b;break;case "ogg":a="og"+b;break;case "webm":a="webm"+b;
break;case "flv":case "f4a":case "f4v":a="fl"+b;break;case "rtmp":a="rtmp"+b;break;default:a=null}return a};return this.each(function(){var q=b(this),p,n,r,g=a.folder||"",z,x,s,A,v=0;a.elem?(A=b(this).find(a.elem),x=A.attr("href"),r=A.attr("title"),n=A.find("img:first"),n.length?(s=n.attr("src"),r||(r=n.attr("alt"))):s=r=""):(x=a.src,r=a.title||"",s=a.poster||"",A=b('<a href="'+x+'"'+(r?' title="'+r+'"':"")+">"+(s?'<img src="'+s+'">':"")+"</a>").appendTo(b(this)));if(LOCAL){var B=b('<div class="'+
e.warning+'">'+d.localFlashWarning+"</a></div>").appendTo(A);A.css("position","relative");B.hide();setTimeout(function(){B.fadeIn()},2E3)}if(x){a.auto&&(a.lowPriority||b("."+e.cont).each(function(){if(b(this).data(e.playing))return!0}));0<x.indexOf("::")?(x=x.split("::"),p=t(x[0]),n=u(x[0])):(p=t(x),n=u(x));this.id||(this.id=a.id+b.fn.addPlayer.id++);z="#"+this.id;b(q).addClass(e.cont);a.mini&&b(q).addClass(e.mini);!p&&a.fullScreen&&b(q).addClass(e.fullScreen);r=a.showTitle?r:"";var C=p;"absolute"!==
q.css("position")&&"fixed"!==q.css("position")&&q.css({position:"relative"});q.css({overflow:"hidden"});var D,y=b('<div class="'+(C?e.audio:e.video)+'"></div>').appendTo(q),y=b('<div class="'+e.playerType+'"></div>').appendTo(y);D=b('<div class="'+e.player+'"></div>').appendTo(y);y.append('<div class="'+e.videoPlay+'"><a>'+d.play+"</a></div>");r&&y.append('<div class="'+e.title+'"><ul><li>'+r+"</li></ul></div>");y.append('<div class="'+e.gui+'">'+f(C)+"</div>");y.find("."+e.gui+" a").attr("href",
NOLINK);!document.touchMode&&q.hasClass(e.fullScreen)&&y.find("."+e.gui).hide();q.append('<div class="'+e.noSolution+'">'+d.noSolution+"</div>");r=q.css("paddingTop");var C=q.css("paddingLeft"),y=q.css("paddingRight"),H=q.css("paddingBottom");q.find("."+e.gui).css({bottom:H,left:C,right:y});q.find("."+e.title).css({top:r,left:C,right:y});var J=function(){var c={},e,d,f=a.relativeUrl?"":location.href.substring(0,location.href.lastIndexOf("/")+1);b.isArray(x)?(v>=x.length&&(v=0),e=x[v]):(e=x,s&&(c.poster=
(f+g+s).fixUrl()));d=u(e);c[d]=(f+g+e).fixUrl();return c},F=function(){if(b.cookie){var a=q.find("."+e.currentTime).text().split(":"),a=2<a.length?60*(60*parseInt(a[0],10)+parseInt(a[1],10))+parseInt(a[2],10):60*parseInt(a[0],10)+parseInt(a[1],10);b.cookie("jp_"+q[0].id,(q.data(e.playing)?"1":"0")+"::"+a+"::"+D.jPlayer("option","volume").toString().substring(0,5)+(v!==UNDEF?"::"+v:""))}};b.cookie&&(r=b.cookie("jp_fs"),b(q).find("."+e.fullScreen).on("click",function(){b.cookie("jp_fs","on");return!0}),
b(q).find("."+e.restoreScreen).on("click",function(){b.cookie("jp_fs","off");return!0}),r&&(a.fullScreen="on"===r));r=!p&&!c;q.on("setEndedFn",function(c,e){a.ended=e&&b.isFunction(e)?e:null});D.jPlayer({cssSelectorAncestor:z,backgroundColor:a.backgroundColor,supplied:n,swfPath:a.resPath+"/"+a.swf,solution:a.solution,size:{width:"100%",height:"100%"},fullScreen:!p&&a.fullScreen,preload:"auto",loop:a.loop,volume:a.volume,autohide:{restored:r,full:r},ready:function(){var c=b(this),d;if(a.saveStatus)a:{if(b.cookie&&
(d=b.cookie("jp_"+q[0].id))){d=d.split("::");d={playing:"1"===d[0],time:parseInt(d[1]||0,10),volume:parseFloat(d[2]||0.8),curr:parseInt(d[4]||0,10)};break a}d=null}else d=null;q.data("media",c);a.saveStatus&&(b(window).on("unload",F),d&&(v=d.curr));var f=J();A&&A.hide();document.touchMode||p||!a.fullScreen?q.find("."+e.gui).show():q.find("."+e.gui).hide();c.jPlayer("setMedia",f);q.on({play:k,pause:h,stop:l,destroy:j});a.saveStatus&&d?(c.jPlayer("volume",d.volume),c.jPlayer(d.playing?"play":"pause",
d.time)):a.auto&&!document.touchMode&&c.jPlayer("play");if(!a.lowPriority)b(window).on("keydown",m)},play:function(){b(this).jPlayer("pauseOthers");q.data(e.playing,!0);document.touchMode&&settimeout(function(){q.find("."+e.title).fadeOut(1E3)},600)},pause:function(){q.data(e.playing,!1)},stop:function(){q.data(e.playing,!1);document.touchMode&&q.find("."+e.title).fadeIn(300)},ended:function(){b.isArray(x)&&(v+1<x.length||a.loop)?(v=(v+1)%x.length,b(this).jPlayer("setMedia",J()),a.auto&&b(this).jPlayer("play")):
(q.data(e.playing,!1),b.isFunction(a.ended)&&a.ended.call())}})}})}};b.fn.addPlayer.id=0;b.fn.addPlayer.defaults={id:"jp_container_",backgroundColor:"#000000",resPath:"",swf:"Jplayer.swf",relativeUrl:!1,solution:"html,flash",volume:0.8,auto:!1,loop:!1,keyboard:!0,lowPriority:!1,saveStatus:!1,mini:!1,fullScreen:!1,showTitle:!1,size:{width:"100%",height:"100%"}};b.fn.addPlayer.text={play:"play",pause:"pause",stop:"stop",mute:"mute",unmute:"unmute",fullScreen:"full screen",restoreScreen:"restore screen",
repeat:"repeat",repeatOff:"repeat off",localFlashWarning:"Local Flash playback is possibly blocked by Flash security rules. Test videos in the uploaded album!",noSolution:'<span>Unsupported media format</span>You might need to either update your browser or the <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a> or use another browser to play this media.'}})(jQuery);
(function(b){b.getLatLng=function(a){return typeof google===UNDEF||null==a?null:"string"===typeof a?(a=a.split(","),new google.maps.LatLng(parseFloat(a[0])||0,parseFloat(a[a.length-1])||0)):new google.maps.LatLng(a[0],a[1])};b.fn.addMap=function(a){if(typeof google===UNDEF||!google.maps)return this;a=b.extend({},b.fn.addMap.defaults,a);var d=a.resPath+"/marker-curr.png",c=a.resPath+"/marker.png",e=new google.maps.MarkerImage(d,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,
24)),f=new google.maps.MarkerImage(c,new google.maps.Size(17,24),new google.maps.Point(0,0),new google.maps.Point(8,24)),h=new google.maps.MarkerImage(a.resPath+"/marker-shadow.png",new google.maps.Size(24,24),new google.maps.Point(0,0),new google.maps.Point(8,24));return this.each(function(){var j=b(this),l,k,p,m,t,u,q=[],w;j.readData(a,"type,zoom,map,label,resPath,markers");var n=function(){j.data("fresh")&&(j.is(":visible")&&!j.parents(":hidden").length&&j.width()&&j.height()?(clearTimeout(t),
j.width(j.parent().width()),google.maps.event.trigger(p,"resize"),p.setCenter(l),j.data("fresh",!1)):t=setTimeout(n,200))};m&&m.length&&m.remove();m=b("<div>").css({position:"absolute",top:"-9000px",width:j.width(),height:j.height()}).appendTo("body");j.data("fresh",!0).on({adjust:n,destroy:function(){p.getParentNode().removeChild(p);b(window).off("resize",n)}});if(a.markers&&a.markers.length&&null!=a.curr)l=a.markers[a.curr].map;else if(a.map)l=b.getLatLng(a.map),k=a.label;else return;if(null!==
(u=b.cookie("mapType")))a.type=u;if(null!==(u=b.cookie("mapZoom")))a.zoom=parseInt(u,10)||a.zoom;setTimeout(function(){var u,g=new google.maps.Map(m[0],{zoom:a.zoom,center:l,scrollwheel:!1,mapTypeId:a.type.toLowerCase()});google.maps.event.addListener(g,"maptypeid_changed",function(){b.cookie("mapType",b.fn.addMap.defaults.type=g.getMapTypeId(),3600)});google.maps.event.addListener(g,"zoom_changed",function(){b.cookie("mapZoom",b.fn.addMap.defaults.zoom=g.getZoom(),3600)});if(a.markers&&1<a.markers.length){var t,
n,s=Math.max(a.curr-a.range,0),A=Math.min(a.curr+a.range,a.markers.length),v=function(){a.click.call(this)};for(t=s;t<A;t++)n=a.markers[t],u={position:n.map,map:g,title:n.label,icon:t===a.curr?e:f,shadow:h,zIndex:t===a.curr?999:t},u=new google.maps.Marker(u),b.isFunction(a.click)&&n.link&&(u.link=n.link,google.maps.event.addListener(u,"click",v)),q.push(u)}else u=new google.maps.Marker(b.extend({position:l,map:g,title:k},d));m.css({top:0}).appendTo(j);p=g;w=a.curr;j.on("setactive",function(a,e){b.isArray(q)&&
q.length&&(w>=s&&(q[w].setIcon(c),q[w].setZIndex(w)),typeof e!==UNDEF&&e>=s&&e<s+q.length?(q[e-s].setIcon(d),q[e-s].setZIndex(9999),p.setCenter(q[e-s].position),w=e):w=-1)})},20);b(window).on("resize",function(){clearTimeout(t);j.data("fresh",!0);t=setTimeout(n,100)})})};b.fn.addMap.defaults={type:"roadmap",zoom:16,range:30,resPath:""}})(jQuery);
(function(b){b.fn.fullScreen=function(a){var b=function(a,b){b="FullScreen"===b&&"webkit"===VEND?VEND+"Is"+b:VEND&&VEND+b||b.substr(0,1).toLowerCase()+b.substr(1);return"function"===typeof a[b]?a[b]():a[b]};return typeof a===UNDEF?b(this[0],"FullScreen"):this.each(function(){var c=b(this,"FullScreen");a?c||b(this,"RequestFullScreen"):c&&b(this,"CancelFullScreen")})}})(jQuery);
(function(b){b.fn.addShop=function(a){a=b.extend({},b.fn.addShop.defaults,a);b.fn.addInput=function(a,c,e,f){var h;return!a||null==c?this:this.each(function(){h=b("<input>",{type:e||"text"}).appendTo(b(this));h.prop("name",a);h.addClass(a);h.val("string"===typeof c?c.stripQuote():c);f&&h.prop(f,!0)})};b.fn.addSelect=function(a,c,e){return!a.length?this:this.each(function(){for(var f=b(this),f=b("<select>").appendTo(f),h=0;h<a.length;h++)f.append(b("<option>",{val:a[h].val,text:a[h].key+" ("+c+" "+
a[h].val+")"}));b.isFunction(e)&&f.change(e)})};return this.each(function(){var d=b(this),c,e,f;d.readData(a,"gateway,id,currency,handling,options,file");if(!(null==a.id||null==a.options||null==a.file)){for(var h="paypal"===a.gateway?{form:"paypal",seller:"business",currency:"currency_code",title:"item_name",select:"item_number",price:"amount",copies:"quantity",shipprice:"shipping",shipprice2:"shipping2",handling:"handling_cart",shopUrl:"shopping_url"}:{form:"google_checkout",currency:"item_currency_1",
title:"item_name_1",select:"item_description_1",price:"item_price_1",copies:"item_quantity_1",shipmethod:"ship_method_name_1",shipprice:"ship_method_price_1",shipcurrency:"ship_method_currency_1"},j=a.options.split("::"),l,k=[],p=0;p<j.length;p++)l=j[p].split("="),1<l.length&&k.push({key:l[0],val:l[1]});a.id=a.id.replace("|","@");var m=function(c){var d=e.children("[name^="+h.shipprice+"]");null===c||!1===c||!b.isNumeric(c)?"paypal"===a.gateway?d.remove():d.val(0):d.length?d.val(c):"paypal"===a.gateway&&
(e.addInput(h.shipprice,c,"hidden"),a.shippingFlat||e.addInput(h.shipprice2,c,"hidden"))},j=function(){var b=c.length?c.children("select").eq(0):!1;if(b&&b.length){var d,b=b.val().split("+"),f=c.children("[name=copies]").val()||1;a.quantityCap&&f>a.quantityCap&&c.children("[name=copies]").val(f=a.quantityCap);(d=c.children("[name=total]"))&&d.val((b[0]*f).toFixed(2));(d=e.children("[name="+h.price+"]"))&&d.val(b[0]);(d=e.children("[name="+h.copies+"]"))&&d.val(f);m(1<b.length?b[1]:null);(d=e.children("[name="+
h.select+"]"))&&d.val(c.find("option:selected").text())}};c=b("<form>",{name:"shopping",method:"post"}).appendTo(d);c.addSelect(k,a.currency,j);1!==a.quantityCap&&c.append("x").addInput("copies",1);c.append("=").addInput("total",k[0].val.split("+")[0],"text","readonly");c.children("[name=copies]").css({width:"3em"}).change(j);c.children("[name=total]").css({width:"5em"});c.append(a.currency);"paypal"===a.gateway?(f=k[0].val.split("+"),e=b("<form>",{name:h.form,target:a.continueUrl?"_blank":a.target,
action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(d),e.addInput("cmd","_cart","hidden"),e.addInput("add",1,"hidden"),e.addInput(h.seller,a.id,"hidden"),e.addInput(h.copies,1,"hidden"),e.addInput(h.price,f[0],"hidden"),e.addInput(h.currency,a.currency,"hidden"),m(1<f.length?f[1]:null),null!=a.handling&&b.isNumeric(a.handling)&&e.addInput(h.handling,a.handling,"hidden"),e.addInput(h.title,decodeURIComponent(a.file+" :: "+a.path),"hidden"),e.addInput(h.select,k[0].key+" ("+a.currency+
" "+k[0].val+")","hidden"),e.addInput(h.shopUrl,a.continueUrl||decodeURIComponent(window.location.href),"hidden"),e.addInput("charset","utf-8","hidden"),e.addInput("lc",a.locale,"hidden"),e.append(b("<input>",{id:"shopAdd",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_cart_SM.gif",alt:"Add to Cart"})),f=b("<form>",{"class":"view",name:"paypalview",target:a.target,action:"https://www.paypal.com/cgi-bin/webscr/",method:"post"}).appendTo(d),f.addInput("cmd","_cart","hidden"),
f.addInput("display",1,"hidden"),f.addInput(h.seller,a.id,"hidden"),f.addInput("lc",a.locale,"hidden"),f.append(b("<input>",{id:"shopView",type:"image",name:"submit",src:"https://www.paypal.com/en_US/i/btn/btn_viewcart_SM.gif",alt:"View Cart"}))):"google"===a.gateway&&(j=a.id.match(/(\d+)/)[0],e=b("<form>",{name:h.form,target:a.target,action:"https://checkout.google.com/cws/v2/Merchant/"+j+"/checkoutForm",method:"post","accept-charset":"utf-8"}).appendTo(d),e.addInput(h.title,decodeURIComponent(a.file+
" :: "+a.path),"hidden"),e.addInput(h.select,k[0].key,"hidden"),e.addInput(h.copies,1,"hidden"),e.addInput(h.price,k[0].val.split("+")[0],"hidden"),e.addInput(h.currency,a.currency,"hidden"),null!=a.shipping&&b.isNumeric(a.shipping)&&(e.addInput(h.shipmethod,"normal","hidden"),e.addInput(h.shipprice,a.shipping,"hidden"),e.addInput(h.shipcurrency,a.currency,"hidden")),e.addInput("_charset_","","hidden"),e.append(b("<input>",{id:"shopAdd",type:"image",name:"Google Checkout",alt:"Fast checkout through Google",
src:"http://checkout.google.com/buttons/checkout.gif?merchant_id="+j+"&w=160&h=43&style=trans&variant=text&loc=en_US",height:43,width:160})));e.add(f).find("input[name=submit]").on("submit",function(){window.open("",a.target,"width=960,height=600,scrollbars=yes,resizable=yes,menubar=no,toolbar=no,directories=no,status=no,copyhistory=no");return!0})}})};b.fn.addShop.defaults={target:"ShoppingCart",currency:"EUR",gateway:"paypal",locale:"US",quantityCap:0,shippingFlat:!1}})(jQuery);
(function(b){b.fn.addSocial=function(a){a=b.extend({},b.fn.addSocial.defaults,a);var d=window.location.href.split("#")[0]+(a.useHash?"#"+encodeURIComponent(a.hash||""):""),c=encodeURIComponent(window.location.href.split("#")[0]+(a.useHash?"#"+encodeURIComponent(a.hash||""):"")),e=encodeURIComponent(a.title||b("meta[name=title]").attr("content")||b("title").text()),f=encodeURIComponent(a.callTxt),h=a.image?window.location.href.getDir()+a.image:b("link[rel=image_src]").attr("href");return this.each(function(){var j=
b(this);"a"===this.nodeName&&j.attr("href",NOLINK);var l=b("<div>",{"class":a.id}).hide();if(LOCAL&&!DEBUG)l.html(a.localWarning);else{a.facebookLike&&!a.useHash&&l.append('<div class="likebtn"><iframe src="http://www.facebook.com/plugins/like.php?href='+d+"&amp;layout=button_count&amp;show_faces=false&amp;width=110&amp;action=like&amp;font=arial&amp;colorscheme="+a.likeBtnTheme+'&amp;height=20" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:120px; height:20px;" allowTransparency="true"></iframe></div>');
a.twitterTweet&&!a.useHash&&l.append('<div class="likebtn"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="http://platform.twitter.com/widgets/tweet_button.html?url='+d+"&text="+e+'" style="width:120px; height:20px;"></iframe></div>');if(a.googlePlus&&!a.useHash){b('<div class="g-plusone likebtn" data-size="medium" data-annotation="inline" data-href="'+d+'" data-width="120"></div>').appendTo(l);var k=20,p=function(){typeof gapi===UNDEF?k--?setTimeout(p,200):typeof console!==UNDEF&&
console.log("Google Plus API failed to load!"):gapi.plusone.go()};p()}a.tumblrBtn&&l.append('<div class="likebtn" id="tumblr"><a href="http://www.tumblr.com/share/'+(a.image?"photo?source=":"link?url=")+encodeURIComponent(d)+"&name="+e+'" title="Share on Tumblr" style="display:inline-block; text-indent:-9999px; overflow:hidden; width:120px; height:20px; background:url(http://platform.tumblr.com/v1/share_1.png) top left no-repeat transparent;">Tumblr</a></div>');a.pinItBtn&&!a.useHash&&l.append('<div class="likebtn" style="height:21px;"><a data-pin-config="beside" href="//pinterest.com/pin/create/button/?url='+
c+"&media="+encodeURIComponent(h)+"&description="+e+'" data-pin-do="buttonPin" ><img src="http://assets.pinterest.com/images/pidgets/pin_it_button.png" /></a></div>');a.facebook&&!a.useHash&&l.append('<a href="http://www.facebook.com/sharer.php?u='+d+"&t="+e+'" class="facebook">Facebook</a>');a.twitter&&l.append('<a href="http://twitter.com/home?status='+f+": "+d+'" class="twitter">Twitter</a>');a.gplus&&l.append(b("<a>",{"class":"gplus",href:"https://plus.google.com/share?url="+c,title:"Share on Google+",
text:"Google+"}).on("click",function(){window.open(this.href,this.title,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=760,width=980");return!1}));a.digg&&l.append('<a href="http://digg.com/submit?url='+d+'" class="digg">Digg</a>');a.delicious&&l.append('<a href="http://delicious.com/save?url='+d+"&title="+e+'&v=5" class="delicious">Delicious</a>');a.myspace&&l.append('<a href="http://www.myspace.com/index.cfm?fuseaction=postto&t='+e+"&u="+d+'&l=3" class="myspace">MySpace</a>');a.stumbleupon&&
l.append('<a href="http://www.stumbleupon.com/submit?url='+d+"&title="+e+'" class="stumbleupon">StumbleUpon</a>');a.reddit&&l.append('<a href="http://www.reddit.com/submit?url='+d+'" class="reddit">Reddit</a>');l.children("a").attr("target","_blank");a.email&&l.append('<a href="mailto:?subject='+f+"&body="+e+"%0D%0A"+d.replace(/%/g,"%25")+'" class="email">Email</a>')}j.addHint(l.appendTo("body"),a.pos).on("destroy",function(){l.remove()})})};b.fn.addSocial.defaults={id:"shares",useHash:!0,likeBtnTheme:"light",
facebookLike:!0,twitterTweet:!0,googlePlus:!0,tumblrBtn:!0,facebook:!0,twitter:!0,gplus:!0,digg:!0,delicious:!0,myspace:!0,stumbleupon:!0,reddit:!0,email:!0,callTxt:"Found this page",pos:{posX:1,posY:2,toX:1,toY:0},localWarning:"Can't share local albums. Please upload your album first!"}})(jQuery);
(function(b){b.fn.readData=function(a,d){if(null==a||null==d)return this;d=d.split(",");var c,e=d.length,f;return this.each(function(){for(c=0;c<e;c++)if(null!=(f=b(this).data(d[c])))a[d[c]]=f})};b.fn.showin=function(){return this.each(function(){b(this).css("display","inline-block")})};b.fn.togglein=function(){return this.each(function(){b(this).css("display",b(this).is(":visible")?"inline-block":"none")})};b.fn.getDim=function(){var a=b(this).eq(0),d={width:a.width(),height:a.height()};if((0===
d.width||0===d.height)&&"none"===a.css("display")){var c=a.css("position"),e=a.css("left");a.css({position:"absolute",left:"-10000px",display:"block"});d.width=a.width();d.height=a.height();a.css({display:"none",position:c,left:e})}return d};typeof Search!==UNDEF&&(Search.start=function(a){if(null!=a){var d="string"===typeof a||b.isNumeric(a)?String(a):"FORM"===a.nodeName?b(a).find("input[type=search]").val().trim():b(a).text().trim(),c,e=0,f,h,j,l=!1,k,p,m,t,u,q,w,n,r,g,z;if(Search.data&&b.isArray(Search.data)&&
Search.data.length&&d&&!(2>d.length)){c=b("<div>",{"class":"searchresults"});d.startsWith("@new")?(l=!0,j=Math.round((new Date).getTime()/864E5),h=parseInt(d.split(":")[1],10)||30):z=RegExp("("+d.replace(/\s/g,"|")+")","i");c.append('<form><input type="text" value="'+d+'"><a class="button">&nbsp;</a></form>');k=function(){var a=b(this).closest("form").children("input:first").val().trim();2<=a.length&&Search.start(a);return!1};c.find("a.button").on("click",k);c.find("form").on("submit",k);w=Search.rootPath&&
"."!==Search.rootPath?Search.rootPath+"/":"";var x=function(a){var c=b(a.target).closest("a");if(!c.length||!window.location.href.endsWith(c.attr("href")))return b.cookie("lastSearch",d,8),!0;a.cancelBubble=!0;return!1};for(k=0;k<Search.data.length;k++){q=w+(Search.data[k][0].length?Search.data[k][0]+"/":"");t=Search.data[k][1].length;for(p=0;p<t;p++)if(n=Search.data[k][1][p].split(Search.sep),l&&5<n.length&&j-parseInt(n[5],10)<h||!l&&z.test(Search.data[k][1][p])){m=n[0].split(":");g=m[0].getExt();
r=1<m.length?m[1]:m[0].substring(m[0].lastIndexOf(".")+1);u=encodeURIComponent(m[0]);switch(g.toLowerCase()){case Search.ext:m=q+Search.folderThumb;break;case "tif":case "bmp":Search.makeSlides||(u=u.replaceExt(r));case "jpg":case "jpeg":case "png":case "mp4":m=q+Search.thumbs+"/"+u.replaceExt(r);break;case "mp3":m="png"===r?w+"res/audio.png":q+Search.thumbs+"/"+u.replaceExt(r);break;case "gif":u=u.replaceExt(r);m=q+Search.thumbs+"/"+u;break;case "pdf":case "zip":case "txt":case "doc":case "xls":m=
w+"res/"+g+".png";break;default:m=w+"res/unknown.png"}g===Search.ext?(u=q+u,m=q+Search.folderThumb):u=q+(Search.makeSlides?Search.slides+"/"+u.replaceExt(Search.ext):Search.indexName+"#"+(Search.urlEncode?u.replace(/\'/g,"%27").replace(/%/g,"%25"):u));u=b("<a>",{href:u.fixUrl()}).append(b("<aside>").append(b("<img>",{src:m}))).on("click",x).appendTo(c);n[1]&&u.append(b("<h5>").append(n[1]));n[2]&&n[2]!==n[1]&&u.append(b("<p>").append(n[2].trunc(192)));for(m=3;m<n.length-1;m++)n[m]&&n[m].trim().length&&
u.append(b("<p>").append(n[m].trunc(192)));window.location.hash===n[0]&&(f=e);e++}}a.jQuery&&b(a).parents(".hint:first").fadeOut(100,function(){b(this).remove()});e?setTimeout(function(){b(".searchresults > a").eq(f||0).focus()},250):c.append(b("<p>",{text:Search.text.notFound}));b("body").addModal(c,{uid:"searchres",darkenBackground:!1,title:Search.text.title});return!1}}},Search.rootPath="",Search.init=function(a){Search.rootPath=a;if((a=b.cookie("lastSearch"))&&a.length&&"null"!==a)b.cookie("lastSearch",
null),Search.start(a)});b.fn.addRegions=function(a,d,c){if(a&&a.length&&d){c=b.extend({},b.fn.addRegions.defaults,c);var e=[],f,h,j,l,k,p=d.split("::");for(d=0;d<p.length;d++)f=p[d].split(";"),4<f.length&&(f[0].length&&null!==(h=parseFloat(f[1]))&&null!==(j=parseFloat(f[2]))&&null!==(l=parseFloat(f[3]))&&null!==(k=parseFloat(f[4])))&&e.push([f[0],100*h+"%",100*j+"%",100*l+"%",100*k+"%"]);return!e.length?this:this.each(function(){var d=b(this),f,h;f=parseInt(d.css("padding-top"),10);"a"===this.nodeName&&
d.attr("href",NOLINK);for(var j=b("<div>",{"class":c.id}).hide(),l=b("<div>",{"class":c.id+"-cont"}).css({left:f,top:f,right:f,bottom:f}),k=function(a){Search.start(a.target);return!1},p=function(a){l.children("a").eq(b(a.target).index()).addClass(c.active)},g=function(a){l.children("a").eq(b(a.target).index()).removeClass(c.active)},z=0;z<e.length;z++)if(f=b('<a href="'+NOLINK+'">'+e[z][0]+"</a>").appendTo(j),h=b("<a>").css({left:e[z][1],top:e[z][2],width:e[z][3],height:e[z][4]}).append(b("<span>",
{text:e[z][0]})).appendTo(l),f.on({mouseover:p,mouseout:g}),typeof Search!==UNDEF)h.on("click",k);d.addHint(j.appendTo("body"),c.pos).on("destroy",function(){j.remove()});d.hasClass(c.active)&&l.addClass(c.active);d.on("click",function(){b(this).add(l).toggleClass(c.active)});a.append(l)})}};b.fn.addRegions.defaults={id:"regions",active:"active",pos:{posX:1,posY:2,toX:1,toY:0}};b.fn.centerThis=function(a){a=b.extend({},b.fn.centerThis.defaults,a);return this.each(function(){var d=b(this),c=d.find(a.selector);
if(c.length){var e,f,h,j,l,k=a.marginLeft+a.padding;e=a.marginRight+a.padding;var p=a.marginTop+a.padding,m=a.marginBottom+a.padding;f=c.data("ow");h=c.data("oh");if(!f||!h)c.data("ow",f=c.width()),c.data("oh",h=c.height());if(!(j=c.data("bw")))c.data("bw",j=parseInt(c.css("border-top-width"),10)||0);if(!(l=c.data("pw")))c.data("pw",l=parseInt(c.css("padding-top"),10)||0);e=(d.innerWidth()||b("body").width())-2*(j+l)-k-e;d=(d.innerHeight()||b("body").height())-2*(j+l)-p-m;if(a.fit&&(f>e||h>d||a.enlarge))j=
Math.min(e/f,d/h),f=Math.round(f*j),h=Math.round(h*j);j=Math.round((e-f)/2)+k;l=Math.round((d-h)/2)+p;if(a.animate){c.stop(!0,!1);if(a.preScale&&1!==a.preScale){var m=f*a.preScale,t=h*a.preScale;c.css({left:Math.round((e-m)/2)+k,top:Math.round((d-t)/2)+p,width:Math.round(m),height:Math.round(t)})}else a.init&&c.css({left:j,top:l});c.animate({left:j,top:l,width:f,height:h},{duration:a.speed,easing:a.effect,complete:a.complete})}else c.css({left:j,top:l,width:f,height:h}),b.isFunction(a.complete)&&
a.complete.call(this)}})};b.fn.centerThis.defaults={selector:".main",speed:500,fit:!0,enlarge:!0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,padding:0,init:!1,animate:!1,effect:"swing",complete:null};b.fn.collectMarkers=function(a){a=b.extend({},b.fn.collectMarkers.defaults,a);var d=[],c,e,f;this.each(function(h){c=b(this).find(a.selector);if(c.length&&(e=c.data(a.mapid))&&(e=b.getLatLng(e)))f=c.data(a.captionid)||c.attr("alt"),d.push({map:e,label:h+1+(f?": "+f.stripHTML():""),link:a.dynamic?
b(this):b(this).attr("href")})});return d};b.fn.collectMarkers.defaults={selector:"img:first",mapid:"map",captionid:"caption"};b.fn.markFoldersNew=function(a){a=b.extend({},b.fn.markFoldersNew.defaults,a);if(a.days){var d=Math.round((new Date).getTime()/864E5);return this.each(function(){d-parseInt(b(this).data("modified")||0,10)<=a.days&&b(this).after('<span class="'+a.cls+'">'+a.text+"</span>")})}};b.fn.markFoldersNew.defaults={days:7,cls:"newLabel",text:"NEW"};b.fn.turtleHelp=function(a,d){a=b.extend({},
b.fn.turtleHelp.defaults,a);d=b.extend({},b.fn.turtleHelp.texts,d);var c,e,f,h=b('<div class="help"></div>');for(e in d)if(d.hasOwnProperty(e)){f=b('<ul class="'+e+'"></ul>').appendTo(h);for(c=0;c<d[e].length;c++)f.append(b("<li><span>"+(c+1)+"</span>"+d[e][c]+"</li>"))}a.pressF1&&h.append(b("<p>"+a.pressF1+"</p>"));var j=function(){b("body").addModal(h,{uid:"help",title:a.title,width:720})};if(a.useF1&&!document.touchMode)b(document).on("keydown",function(c){return document.activeElement&&"INPUT"===
document.activeElement.nodeName||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard()||b("#help:visible").length?!0:112===(c?c.keyCode:window.event.keyCode)?(j(),!1):c.returnValue=!0});return this.each(function(){b(this).on("click",function(){j();return!1})})};b.fn.turtleHelp.defaults={useF1:!0,help:"Using Turtle gallery",pressF1:"Press <b>F1</b> any time to get help!"};b.fn.turtleHelp.texts={};b.fn.turtle=function(a,d,c){a=b.extend({},b.fn.turtle.defaults,a);d=b.extend({},b.fn.turtle.texts,d);c=b.extend({},
b.fn.turtle.ids,c);for(var e=function(c,d,e){b.cookie(c,d,e);a[c]=d},f="thumbsOn infoOn commentsOn metaOn mapOn regionsOn shopOn shareOn printOn fitImage slideshowDelay slideshowOn".split(" "),h,j=0;j<f.length;j++)if(null!==(h=b.cookie(f[j])))a[f[j]]=h;document.touchMode&&(a.preScale=!1);b.fn.addScroll.defaults.dontDrag="#"+c.map;b.fn.addMap.defaults.zoom=a.mapZoom;b.fn.addMap.defaults.type=a.mapType;b.fn.addMap.defaults.resPath=a.resPath;b.fn.addShop.defaults.gateway=a.shopGateway;b.fn.addShop.defaults.id=
a.shopId;b.fn.addShop.defaults.path=(a.albumName?a.albumName+"/":"")+a.relPath;b.fn.addShop.defaults.currency=a.shopCurrency||"EUR";b.fn.addShop.defaults.handling=a.shopHandling||null;b.fn.addShop.defaults.locale=a.shopLocale||"US";b.fn.addShop.defaults.quantityCap=a.shopQuantityCap||0;a.shopContinueUrl&&(b.fn.addShop.defaults.continueUrl=a.shopContinueUrl.match(/^https?:/i)?a.shopContinueUrl:window.location.origin+a.shopContinueUrl);b.fn.addPlayer.defaults.backgroundColor=b("body").css("background-color").rgb2hex();
b.fn.addPlayer.defaults.fullScreen=a.videoMaximize;b.fn.addPlayer.defaults.auto=a.videoAuto;b.fn.addPlayer.defaults.solution=a.prioritizeFlash?"flash,html":"html,flash";b.fn.centerThis.defaults.fit=a.fitImage;b.fn.centerThis.defaults.animate=a.transitions;b.fn.centerThis.defaults.padding=a.fitPadding;b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;b.fn.centerThis.defaults.selector="."+c.main;var f=a.shares,l;for(l in f)f.hasOwnProperty(l)&&(b.fn.addSocial.defaults[l]=f[l]);b.fn.addSocial.defaults.callTxt=
d.checkOutThis;a.shareSlides=a.shares&&(a.shares.facebookLike||a.shares.twitterTweet||a.shares.googlePlus||a.shares.tumblrBtn||a.shares.pinItBtn||a.shares.facebook||a.shares.twitter||a.shares.gplus||a.shares.pinterest||a.shares.digg||a.shares.delicious||a.shares.myspace||a.shares.stumbleupon||a.shares.reddit||a.shares.email);var k=Math.round((new Date).getTime()/864E5),p="ms"===VEND&&Modernizr&&!1===Modernizr.opacity;return this.each(function(){var f,j,h,l,w,n,r,g={},z,x,s=null,A=null,v=0,B=null,
C=null,D="index"===b("body").attr("id"),y=D&&!a.linkSlides,H=[],J=!1,F=!1,K=null,Y=null,S=b(window).width(),T=b(window).height(),za=function(){clearTimeout(Y);Y=setTimeout(function(){var c=b(window).width(),d=b(window).height();if(c!==S||d!==T)s&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:P()}),S=c,T=d},100)},Aa=-1,ra=-1,da=function(){if(!a.licensee&&(typeof _jaShowAds===UNDEF||_jaShowAds)&&!LOCAL&&!b.cookie("ls")){var c=a.resPath+"/logo.png";b(new Image).load(function(){var a=b("<div>").css({background:"url("+
c+") 10px top no-repeat",textAlign:"left",minHeight:"60px",paddingLeft:"90px"}).html("<h4>Turtle skin <small>"+VER+"</small></h4><p>Unlicensed</p>");b("body").addModal(a,{width:240,autoFade:600});b.cookie("ls",!0)}).attr("src",c)}},ea=function(c){if(h&&h.is(":visible")||document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(c?c.keyCode:window.event.keyCode){case 13:case 10:y?
E():window.location.href=f.eq(v).attr("href");break;case 27:la();break;case 37:v=(v?v:f.length)-1;I();break;case 38:v&&a.cols&&(v=Math.max(0,v-a.cols));I();break;case 39:v=(v+1)%f.length;I();break;case 40:v<f.length-1&&a.cols&&(v=Math.min(f.length-1,v+a.cols));I();break;case 97:case 35:v=f.length-1;I();break;case 103:case 36:v=0;I();break;case 106:case 179:a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0));y&&E();L();break;default:return c.returnValue=!0}return!1},Ba=function(d){if(h.is(":hidden")||
document.activeElement&&("INPUT"===document.activeElement.nodeName||"TEXTAREA"===document.activeElement.nodeName)||b.isFunction(a.enableKeyboard)&&!a.enableKeyboard())return!0;switch(d?d.keyCode:window.event.keyCode){case 27:Z();break;case 37:d=b("."+c.main);var e=b("."+c.img);d.length&&(d.position().left>=a.fitPadding?ma():(e=Math.round(0.8*e.width()),d.animate({left:Math.min(d.position().left+e,a.fitPadding)},a.scrollDuration)));break;case 38:d=b("."+c.main);e=b("."+c.img);d.length&&!(d.position().top>
a.fitPadding)&&(e=Math.round(0.8*e.width()),d.animate({top:Math.min(d.position().top+e,a.fitPadding)},a.scrollDuration));break;case 39:d=b("."+c.main);e=b("."+c.img);if(d.length)if(d.position().left+d.outerWidth()<=e.width()-a.fitPadding)M();else{var g=Math.round(0.8*e.width());d.animate({left:Math.max(d.position().left-g,e.width()-a.fitPadding-d.outerWidth())},a.scrollDuration)}break;case 40:d=b("."+c.main);e=b("."+c.img);d.length&&!(d.position().top+d.outerHeight()<=e.height()-a.fitPadding)&&(g=
Math.round(0.8*e.width()),d.animate({top:Math.max(d.position().top-g,e.height()-a.fitPadding-d.outerHeight())},a.scrollDuration));break;case 97:case 35:y?E(f.length-1):window.location.href=a.firstPage;break;case 103:case 36:y?E(0):window.location.href=a.firstPage;break;case 106:case 179:B?N():(a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0)),L());break;case 107:a.fitImage?na():oa();break;case 109:d=a.fitFreespace;a.fitFreespace=!1;a.infoOn||a.thumbsOn?(sa(),ta(),s&&d&&s.centerThis({fit:a.fitImage,
marginTop:0,marginBottom:0})):(ua(),va(),s&&d&&s.centerThis({fit:a.fitImage,marginTop:z.outerHeight()||0,marginBottom:r.outerHeight()||0}));a.fitFreespace=d;break;default:return d.returnValue=!0}return!1},la=function(){(0<a.level?window:parent).location.href=a.uplink||"../"},Z=function(){y||(b.cookie("curr:"+a.albumName+"/"+a.relPath,a.curr,600),window.location.href=a.indexPage);if(!a.skipIndex||a.level||a.uplink){var d=b("[role=main]"),e;h.is(":visible")?(N(),a.slideshowFullScreen&&b("html").fullScreen(!1),
a.skipIndex?la():(d.length&&d.is(":hidden")&&(d.children().andSelf().css({visibility:"visible",display:"block"}),j.children("."+c.cont).trigger("adjust"),setTimeout(function(){j.loadImages()},100)),a.transitions?h.fadeOut(a.speed):h.hide(),s&&(e=s.find("."+c.video+",."+c.audio)).length&&e.trigger("pause"),b("#"+c.map+">."+c.cont).trigger("adjust"),"no"!==a.hash&&b.history.load(""))):d.length&&d.is(":hidden")&&(d.children().andSelf().css({visibility:"visible",display:"block"}),setTimeout(function(){j.loadImages()},
100));d.find("[role=scroll]").data("dragOn",!1)}},Ca=function(){var a=f.eq(v).children("img:first");return a.length?(a.data(c.link)||a.data(c.src)).getFile():null},I=function(d){var e=f.eq(v);f.filter("."+c.active).removeClass(c.active);e.addClass(c.active);!a.skipIndex&&(typeof d===UNDEF||!1===d)&&e.trigger("setactive");x&&(x.filter("."+c.active).removeClass(c.active),x.eq(v).addClass(c.active).trigger("setactive"));a.mapOnIndex&&b("#"+c.map+" ."+c.cont).trigger("setactive",e.find("img:first").data(c.mapid));
b.cookie("curr:"+a.albumName+"/"+a.relPath,v,600)},Da=function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,null)},La=function(d){var e,g;if(g=d)if(g=d.length){if("number"===a.hash)d=(parseInt(d,10)||1)-1;else a:{var h;for(g=0;g<f.length;g++)if(h=f.eq(g).children("img:first"),(h=h.length&&(h.data(c.link)||h.data(c.src)).getFile())&&h===d){d=g;break a}d=-1}g=0<=(e=d)&&e<f.length}g?(E(e),a.slideshowAuto=!1):(Z(),"ms"==VEND&&setTimeout(function(){b("[role=main]").show();b("[role=scroll]").trigger("adjust")},
10))},ma=function(){N();if(y)v?E(v-1):"startover"===a.afterLast?E(f.length-1):s.find("."+c.main).trigger("dragcancel");else{var d=b("."+c.controls+" ."+c.prev);d.length&&(window.location.href=d.attr("href"))}},M=function(){var g=[];if(y)if(v<f.length-1)wa(),E(v+1);else if("startover"===a.afterLast||B&&a.slideshowLoop)wa(),E(0);else{Da();if("onelevelup"===a.afterLast){if(a.uplink){la();return}}else if("backtoindex"===a.afterLast){if(!a.skipIndex){Z();return}}else"ask"===a.afterLast&&(N(),g.push({t:d.startOver,
h:function(){E(0)}}),a.uplink&&g.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){la()}}),a.skipIndex||g.push({t:d.backToIndex,h:function(){Z()}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),g,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1,savePosition:!1}));s.find("."+c.main).trigger("dragcancel")}else{var h=b("."+c.controls+" ."+c.next);h.length&&(h=h.attr("href"))&&h.length&&h!==NOLINK?(e("slideshowDelay",a.slideshowDelay),B&&e("slideshowOn",!0,
8),window.location.href=h):"ask"===a.afterLast&&(N(),Da(),a.firstPage&&g.push({t:d.startOver,h:function(){B&&e("slideshowOn",null!=B,8);window.location.href=a.firstPage}}),a.uplink&&g.push({t:0<a.level?d.upOneLevel:d.homepageLinkText||d.backToHome,h:function(){window.location.href=a.uplink}}),a.indexPage&&g.push({t:d.backToIndex,h:function(){window.location.href=a.indexPage}}),b("body").addModal(b("<p>",{text:d.atLastPageQuestion}),g,{uid:"dialog",title:d.atLastPage,width:480,resizable:!1,savePosition:!1}))}},
wa=function(){B&&(clearTimeout(B),B=setTimeout(M,a.slideshowDelay))},Ea=function(){C&&(C=clearTimeout(B),B=setTimeout(M,300))},L=function(){var b;g.play.hide();g.pause.showin();(b=s.find("."+c.video+",."+c.audio)).length&&(b.data("playing")||a.videoAuto)?(C=!0,b.trigger("setEndedFn",Ea)):B=setTimeout(M,a.slideshowDelay);G()},N=function(){var b;g.pause.hide();g.play.showin();B=clearTimeout(B);G();y||e("slideshowOn",!1);(b=s.find("."+c.video+",."+c.audio)).length&&(b.data("playing")||a.videoAuto)&&
b.trigger("setEndedFn",null)},fa=!1,xa=function(){!F&&!fa&&(fa=!0,n.stop(!0,!1).fadeTo(200,0.8,function(){p&&n.css("filter",null)}),K=setTimeout(function(){G()},1500))},G=function(){F?K=setTimeout(function(){G()},750):(fa=!1,K=clearTimeout(K),n.fadeTo(500,a.controlOutOpacity))},Ma=function(){fa?(fa=!1,K=clearTimeout(K),n.fadeTo(500,a.controlOutOpacity)):xa();return!0},ta=function(){a.infoOn&&(g.hideInfo.hide(),g.showInfo.showin(),a.transitions?r.animate({bottom:-r.outerHeight()},500,function(){r.hide()}):
r.css({bottom:-r.outerHeight()}).hide(),s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:0}),G(),e("infoOn",!1))},va=function(){if(!a.infoOn){g.showInfo.hide();g.hideInfo.showin();r.is(":hidden")&&r.show().css({bottom:-r.outerHeight()});var b=function(){r.children("."+c.map).trigger("adjust")};a.transitions?r.animate({bottom:0},500,b):(r.show().css({bottom:0}),b());s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:r.outerHeight()});G();e("infoOn",
!0)}},sa=function(){a.thumbsOn&&(g.hideThumbs.hide(),g.showThumbs.showin(),a.transitions?w.animate({top:-z.outerHeight()-10},500):w.css({top:-z.outerHeight()-10}),s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:0,marginBottom:P()}),G(),e("thumbsOn",!1))},ua=function(){a.thumbsOn||(g.showThumbs.hide(),g.hideThumbs.showin(),a.transitions?w.animate({top:0},500):w.css({top:0}),s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:z.outerHeight(),marginBottom:P()}),G(),e("thumbsOn",!0))},
O=function(){return a.fitFreespace&&0<=w.position().top?z.outerHeight()||0:0},P=function(){return a.fitFreespace&&r.is(":visible")?r.outerHeight()||0:0},na=function(){g.noresize.hide();g.resize.showin();b.fn.centerThis.defaults.enlarge=!a.fitShrinkonly;s.centerThis({fit:!1,marginTop:O(),marginBottom:P()});G();e("fitImage",!1)},oa=function(){g.resize.hide();g.noresize.showin();b.fn.centerThis.defaults.enlarge=!0;s.centerThis({fit:!0,marginTop:O(),marginBottom:P()});G();e("fitImage",!0)},Na=function(){if(!0===
b(this).parents("[role=scroll]").data("dragOn"))return!1;E(b(this));return!1},pa=function(a){a&&a.length&&(a.stop(),a.trigger("destroy"),a.find("."+c.video+",."+c.audio).trigger("destroy"),a.find("."+c.share+"-"+c.icon).trigger("destroy"),a.find("."+c.map).trigger("destroy"),a.remove())},E=function(e){if("number"!==typeof e)if(e){var g;if(null==e)g=v;else if("number"===typeof e)g=Math.minMax(0,e,f.length);else if(0>(g=f.index(e))&&x)g=x.index(e);e=g}else e=v;h.is(":hidden")&&(s&&s.data("curr")!==
e&&pa(s),a.transitions?h.fadeIn(a.speed):h.show(),z.children(":first").loadImages());if(!(s&&s.data("curr")===e)){g=f.eq(e);var j=g.attr("href"),k=g.children("img").eq(0),p,n;if(k.length){s&&(pa(A),A=s,A.css({zIndex:0}),A.find("."+c.main).trigger("unswipe").off("touchstart"),A.unmousewheel());(p=h.children("."+c.img).not(s)).length&&p.stop().remove();s=b("<div>",{"class":c.img}).css({zIndex:1,display:"none"}).data({curr:e}).appendTo(h);if(!a.skipIndex&&(a.level||a.uplink))s.on("click",function(a){if(b(a.target).hasClass("img"))return Z(),
!1});l.css({opacity:0,display:"block"}).animate({opacity:1});v=e;I();var r=b("<div>",{"class":c.main});if(k.data(c.isother)||!j)g=Math.max(k.data(c.width)||h.width()-160,280),n=Math.max(k.data(c.height)||h.height()-120,200),r.addClass(c.other),(j=k.data(c.content))&&(j=j.trim()).length?r.css({width:g,height:n}).append(j.startsWith("http://")?b("<iframe>",{width:"100%",height:"100%",src:j,frameborder:0,allowfullscreen:"allowfullscreen"}):j):(r.append(b("<a>",{href:k.data(c.link),target:"_blank"})),
r.append(b("<p>",{text:d.clickToOpen})),r.children("a:first").append(k.clone())),aa(r);else if(k.data(c.isvideo)||k.data(c.isaudio)){g=k.data(c.width)||h.width()-160;n=k.data(c.height)||h.height()-120;(C=B)&&(B=clearTimeout(B));if(k.data(c.isvideo)){var j=h.width()-40,t=h.height()-40;if(g>j||n>t)j=Math.min(j/g,t/n),g=Math.round(g*j),n=Math.round(n*j);r.addClass(c.video)}else g=Math.max(320,k.data(c.width)||0),n=Math.max(180,k.data(c.height)||0),r.addClass(c.audio);r.css({width:g,height:n}).data({ow:g,
oh:n});setTimeout(function(){p=r.addPlayer({src:k.data(c.link),title:a.showVideoTitle?k.attr("alt"):"",poster:k.data(c.poster),ended:Ea,resPath:a.resPath})},a.speed/3);aa(r)}else g=k.data(c.width),n=k.data(c.height),t=b(new Image),r.addClass(c.image).append(t).css({width:g,height:n}).data({ow:g,oh:n}),t.attr({src:j,width:g||"auto",height:n||"auto"}),t[0].complete?(k.data("cached",!0),aa(r)):t.on("load",function(){k.data("cached",!0);aa(r)}).prop({src:j});Fa(k,e)}}},Ga=function(a){var d=a.attr("href"),
e=a.children("img").eq(0);d&&(e&&!e.data("cached")&&!e.data(c.isvideo)&&!e.data(c.isother))&&b("<img>").on("load",function(){e.data("cached",!0)}).attr({src:d})},aa=function(d){l&&l.length&&(a.transitions?l.stop(!0,!1).animate({opacity:0},{duration:100,complete:function(){b(this).hide()}}):l.hide());if(y)a.transitions?A&&A.stop(!0,!1).animate({opacity:0},a.speed/2,"linear",function(){pa(A)}):pa(A),s.children().not("."+c.bottom).remove(),s.append(d);else if(d=s.find("."+c.main),!d.length)return;var e=
d.hasClass(c.image),g=d;if(a.rightClickProtect)g.on("contextmenu",noAction);if(!document.touchMode&&a.enableMouseWheel)s.on("mousewheel",function(a,b){a.preventDefault();0<b?ma():M();return!1});setTimeout(function(){if(document.touchMode)xa(),s.on("touchstart",Ma),g.on("click",noAction);else if((1<f.length||!y)&&g.hasClass(c.image))g.on("click",function(){a.clickForNext&&M();return!1});if(!a.clickForNext)g.on(document.touchMode?"dbltap":"dblclick",function(){a.fitImage?na():oa();return!1});g.hasClass(c.image)&&
(1<f.length||!y)&&g.addSwipe(function(){b(this).trigger("unswipe");M()},function(){b(this).trigger("unswipe");ma()})},a.speed/2);setTimeout(function(){a.transitions?s.css({opacity:0,display:"block"}).animate({opacity:1},{duration:a.speed,complete:p?function(){s.css({filter:""})}:null}).centerThis({init:!0,speed:Math.round(0.75*a.speed),marginTop:O(),marginBottom:P(),preScale:e&&a.preScale,animate:e&&a.preScale&&1!==a.preScale,fit:a.fitImage}):s.show().centerThis({init:!0,marginTop:O(),marginBottom:P(),
fit:a.fitImage});var b=v,d=s.find("nav a."+c.regions+"-icon").eq(0);d.length&&(b=f.eq(b).find("img:first"),d.addRegions(s.find("."+c.main).eq(0),b.data(c.regions)))},50);y?(v<f.length-1&&Ga(f.eq(v+1)),0<v&&Ga(f.eq(v-1)),"number"===a.hash?b.history.load(v+1):"fileName"===a.hash&&(d=Ca())&&b.history.load(d)):a.slideshowOn&&L()},Fa=function(g,h){var j,k,l,n,p=Math.round(0.8*s.width())-30,q=!(g.data(c.isvideo)||g.data(c.isaudio)||g.data(c.isother));y?(r=b("<div>",{"class":c.bottom}).appendTo(s),j=b("<div>",
{"class":c.cont}).appendTo(r),typeof h!==UNDEF&&a.showImageNumbers&&j.append('<div class="nr"><strong>'+(h+1)+"</strong> / "+f.length+"</div>"),(l=g.data(c.caption))&&j.append(l)):j=r.children("."+c.cont);k=b("<nav>").prependTo(j);j.width()>p&&j.width(p);var t=function(d){var f=b(d.target);d=f.data("rel");var g=j.children("."+d),h=g.is(":visible"),k=P(),l=g.outerHeight(!0);f.toggleClass(c.active,!h);d===c.map?(f=function(){h||g.children("."+c.mapcont).trigger("adjust")},a.transitions?g.slideToggle("fast",
f):(g.toggle(),setTimeout(f,50))):a.transitions?g.slideToggle("fast"):g.toggle();s&&a.fitFreespace&&s.centerThis({fit:a.fitImage,marginTop:O(),marginBottom:k+(h?-l:l)});e(d+"On",!h);return!1},p=function(e){var f=b("<a>",{href:NOLINK,"class":e+"-"+c.icon}).data("rel",e).appendTo(k);a.buttonLabels?(f.text(d[e+"Btn"]||e),f.addHint(d[e+"Label"]||"")):f.addHint(d[e+"Label"]||d[e+"Btn"]||e);f.on("click",t)},u;if(!y&&(u=j.children("."+c.comments)).length)u.data("rel",c.comments),p(c.comments);for(var w=
[c.meta,c.map,c.shop,c.share,c.print],z=0;z<w.length;z++)if(u=w[z],null!=g.data(u)&&(u!=c.map||a.mapOnSlide)){var A=u;b("<div>",{"class":c.panel+" "+A}).data("rel",A).appendTo(j).append(b("<div>",{"class":c.icon}));p(u)}q&&g.data(c.regions)&&(p=b("<a>",{href:NOLINK,"class":c.regions+"-"+c.icon}).appendTo(k),a.buttonLabels&&p.text(d.people),a[c.regions+"On"]&&p.addClass(c.active),p.on("click",function(){e(c.regions+"On",!b(this).hasClass(c.active))}));if((l=g.data(c.link))&&(!q&&a.downloadNonImages||
q&&!a.rightClickProtect))q=b("<a>",{href:l,"class":c.link+"-"+c.icon,download:"",target:"_blank"}).appendTo(k),a.buttonLabels&&q.text(g.data(c.isoriginal)?d.original:d.hiRes),q.addHint((a.buttonLabels?"":"<strong>"+(g.data(c.isoriginal)?d.original:d.hiRes)+"</strong><br>")+("download"in q[0]?"":"<small>"+d.saveTip+"<br>")+'<input class="fullw" type="text" value="'+l.fullUrl()+'" readonly></small>');if(a.shareSlides){var B=b("<a>",{href:NOLINK,"class":c.share+"-"+c.icon}).appendTo(k);a.buttonLabels&&
B.text(d.share);y?(n="number"===a.hash?v+1:Ca(),setTimeout(function(){B.addSocial({hash:n,title:(g.data(c.caption)||"").stripHTML(),image:g.data(c.src)})},a.speed)):B.addSocial({useHash:!1,title:(g.data(c.caption)||"").stripHTML(),image:g.data(c.src)})}a.imgHook&&(q=b("<a>",{href:NOLINK,"class":c.custom+"-"+c.icon}).appendTo(k),a.buttonLabels&&a.imgHookBtn&&q.text(a.imgHookBtn),q.on("click",function(){var d=g.data(c.link)||(y?g.data(c.src):g.attr("src")).replace(a.thumbs+"/","");b("body").addModal(b(a.imgHook.replace(/\%fileName\%/g,
d)),{uid:c.custom,width:a.imgHookWidth||600,title:a.imgHookBtn})}));a.imgHookFn&&b.isFunction(a.imgHookFn)&&a.imgHookFn.call(g);j.children("."+c.panel).each(function(){var d=b(this),e=d.data("rel");if(e&&null!==(l=g.data(e))){if(e===c.map){var f=b("<div>",{"class":c.mapcont}).appendTo(d);f.width(j.width()-30);if(a.mapAll)f.addMap({click:function(){y?E(this.link):window.location.href=this.link},markers:H,curr:parseInt(y?g.data(c.mapid):x.filter("."+c.active).find("img:first").data(c.mapid),10)});else{var h=
(g.data(c.caption)||"").stripHTML()||g.attr("alt")||v+1+"";f.addMap({map:l,label:h})}setTimeout(function(){f.trigger("adjust")},a.speed)}else e===c.shop?d.addClass("clearfix").addShop({file:(g.data(c.link)||(y?g.data(c.src)||"No. "+v:g.attr("src"))).getFile(),options:l}):d.append(l);a[e+"On"]?k.children("a."+e+"-icon").addClass(c.active):d.hide()}});k.html().length||k.remove();a.infoOn||r.hide()},Ha=function(){n.children("a").not(g.play).addHint();var c=b("<div>",{"class":"slideshowdelay",text:g.play.prop("title")}).hide().appendTo(b("body")),
d=b("<form>").appendTo(c);d.on("submit",function(){L()}).append(b("<input>",{type:"text",value:a.slideshowDelay/1E3}).focus().on("change",function(){e("slideshowDelay",Math.round(parseFloat(1E3*b(this).val())||b.fn.turtle.defaults.slideshowDelay));return!0})).append(b("<a>",{"class":"button",href:NOLINK,text:" "}).on("click",function(){L()}));d.find("input");g.play.prop("title","").addHint(c);document.touchMode||(y?n.hide():K=setTimeout(function(){G()},1500));n.on({mouseenter:function(){F=!0;b(this).stop(!0,
!1).fadeTo(200,1)},mouseleave:function(){F=!1;b(this).stop(!0,!1).fadeTo(200,0.8)}});if(!document.touchMode)h.on("mousemove",function(a){if(!J&&(Aa-a.clientY||ra-a.clientX))0<=ra&&xa(),ra=a.clientX,Aa=a.clientY})};if(D){setTimeout(da,1E3);f=b(this).find("td > a");if(!f.length)return;D=b(a.header);if(null!=D&&D.length){if(a.showStart){var ga=b("<div>",{"class":c.startShow}).appendTo(D),da=b("<div>",{"class":c.startTxt,width:"auto",text:d.startSlideshow}).appendTo("body"),Ia=ga.width(),Ja=da.outerWidth();
ga.append(da);if(Ia<Ja)da.on({mouseenter:function(){ga.stop(!0,!1).animate({width:Ja},500)},mouseleave:function(){ga.stop(!0,!1).animate({width:Ia},500)}});ga.on({click:function(){if(y)return a.slideshowFullScreen&&b("html").fullScreen(!0),E(),L(),!1;e("slideshowOn",!0,8);window.location.href=f.filter("."+c.active).attr("href")}})}a.uplink=D.find("."+c.parent+">a").attr("href")||""}j=b("."+c.items);var ba,ha,Ka,Oa=function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,f.index(b(this)),600)};f.each(function(){ba=
b(this);ha=ba.find("img").eq(0);if(ha.length){if(a.rightClickProtect)ba.on("contextmenu",noAction);ha.attr("src").endsWith("/"+a.loadImg)&&ha.addClass(c.toload);a.markNewDays&&k-parseInt(ha.data(c.modified)||0,10)<=a.markNewDays&&ba.append(b("<span>",{"class":c.newItem,text:d.newItem}));(Ka=ba.attr("title"))&&ba.addHint(Ka);if(!y)f.on("click",Oa)}});setTimeout(function(){j.loadImages()},50);if(document.touchMode)j.on("scroll",function(){j.loadImages();return!0});j.find("."+c.folders).on("click",function(){b.cookie("curr:"+
a.albumName+"/"+a.relPath,null);return!0});if(a.mapOnIndex||a.mapAll&&a.mapOnSlide)H=f.collectMarkers({dynamic:y});a.mapOnIndex&&H.length&&b("#"+c.map+" ."+c.cont).addMap({click:function(){y?E(this.link):window.location.href=this.link},markers:H,range:999,curr:0});null===(v=b.cookie("curr:"+a.albumName+"/"+a.relPath))||v>=f.length?(v=0,I(!0)):setTimeout(function(){I()},300);if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",ea);if(y){f.on("click",Na);h=b("<div>",{"class":c.gallery}).attr("role",
"gallery").appendTo("body");l=b("<div>",{"class":c.wait}).appendTo(h);w=b("<div>",{"class":c.navigation}).appendTo(h);var qa,ca,U,V,ia=0,W,ja,Q,R;z=b("<div>",{"class":c.scrollbox}).appendTo(w);V=b("<div>",{"class":"wrap"}).appendTo(z);V=b("<ul>",{"class":c.cont+" "+c.load}).appendTo(V);f.each(function(){qa=b(this);U=qa.find("img").eq(0);if(U.length){ca=b("<a>",{href:NOLINK}).appendTo(b("<li>").appendTo(V));W||(W=ca.width(),ja=ca.height()||W);Q=U.attr("width");R=U.attr("height");if(Q>W||R>ja)Q/W>R/
ja?(R=Math.round(R*W/Q),Q=W):(Q=Math.round(Q*ja/R),R=ja);b("<img>",{src:U.attr("src"),"class":U.attr("class")}).data({src:U.data("src")}).attr({width:Q,height:R}).appendTo(ca);ca.addHint(qa.data("hint")||qa.siblings("."+c.caption).html());ia+=ca.outerWidth()}});ia+=2*V.children().length;V.width(ia);V.scrollThumbs({enableMouseWheel:a.enableMouseWheel});x=z.find("li > a");x.on("click",function(){if(!0===b(this).parents("[role=scroll]").data("dragOn"))return!1;b(this).hasClass(c.active)||E(x.index(b(this)));
I();return!1});n=b("<nav>",{"class":c.controls+" clearfix"}).appendTo(w);g.prev=b("<a>",{"class":c.prev,title:d.previousPicture}).appendTo(n);if(!a.skipIndex||a.level||a.uplink)g.up=b("<a>",{"class":c.up,title:a.skipIndex?d.upOneLevel:d.backToIndex}).appendTo(n);g.noresize=b("<a>",{"class":c.noresize,title:d.oneToOneSize}).appendTo(n);g.resize=b("<a>",{"class":c.resize,title:d.fitToScreen}).appendTo(n);g.hideInfo=b("<a>",{"class":c.hideInfo,title:d.hideInfo}).appendTo(n);g.showInfo=b("<a>",{"class":c.showInfo,
title:d.showInfo}).appendTo(n);g.hideThumbs=b("<a>",{"class":c.hideThumbs,title:d.hideThumbs}).appendTo(n);g.showThumbs=b("<a>",{"class":c.showThumbs,title:d.showThumbs}).appendTo(n);g.play=b("<a>",{"class":c.play,title:d.startAutoplay}).appendTo(n);g.pause=b("<a>",{"class":c.pause,title:d.stopAutoplay}).appendTo(n);g.next=b("<a>",{"class":c.next,title:d.nextPicture}).appendTo(n);var ya=0;n.children().each(function(){"none"!==b(this).css("display")&&(ya+=b(this).outerWidth())});n.width(ya);g.prev.on("click",
function(){N();ma();return!1});if(g.up)g.up.on("click",function(){N();Z();return!1});g.noresize.on("click",function(){na();return!1});g.resize.on("click",function(){oa();return!1});a.fitImage?(g.resize.hide(),g.noresize.showin()):(g.noresize.hide(),g.resize.showin());g.hideInfo.on("click",function(){ta();return!1});g.showInfo.on("click",function(){va();return!1});a.infoOn?(g.showInfo.hide(),g.hideInfo.showin()):(g.hideInfo.hide(),g.showInfo.showin());g.hideThumbs.on("click",function(){sa();return!1});
g.showThumbs.on("click",function(){ua();return!1});a.thumbsOn?(g.showThumbs.hide(),g.hideThumbs.showin()):(g.hideThumbs.hide(),g.showThumbs.showin());g.play.on("click",function(){a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0));L();return!1});g.pause.on("click",function(){N();return!1});a.slideshowAuto?(g.play.hide(),g.pause.showin()):(g.pause.hide(),g.play.showin());g.next.on("click",function(){wa();M();return!1});Ha();a.thumbsOn||w.css("top",-z.outerHeight()-10);z.on({mouseenter:function(){G();
J=!0},mouseleave:function(){J=!1}});"page"!==b("body").attr("id")&&(a.hash&&"no"!==a.hash)&&b.history.init(La);a.slideshowAuto?(a.slideshowFullScreen&&b("html").fullScreen(!0),E(v),L()):a.skipIndex&&E(v);if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",Ba)}}else{f=b(this);h=b("."+c.gallery);w=b("."+c.navigation);n=b("."+c.controls);s=b("."+c.img);r=b("."+c.bottom);f=s.children("."+c.main);v=0;z=b("."+c.scrollbox);x=z.find("li > a");var X=f.find("img:first");a.mapAll&&(H=
x.collectMarkers());var ea=z.find("."+c.cont),ka=0;x.addHint().each(function(){ka+=b(this).outerWidth()});ka+=2*x.length;ea.width(ka);ea.scrollThumbs({enableMouseWheel:a.enableMouseWheel});x.on("click",function(){return!b(this).parents("[role=scroll]").data("dragOn")});ea.trigger("setactive");a.thumbsOn||w.css("top",-z.outerHeight()-10);g.prev=n.children("."+c.prev);g.up=n.children("."+c.up);g.noresize=n.children("."+c.noresize);g.resize=n.children("."+c.resize);g.hideInfo=n.children("."+c.hideInfo);
g.showInfo=n.children("."+c.showInfo);g.hideThumbs=n.children("."+c.hideThumbs);g.showThumbs=n.children("."+c.showThumbs);g.play=n.children("."+c.play);g.pause=n.children("."+c.pause);g.next=n.children("."+c.next);g.up.on("click",function(){b.cookie("curr:"+a.albumName+"/"+a.relPath,a.curr,600);return!0});g.noresize.on("click",function(){na();return!1});g.resize.on("click",function(){oa();return!1});g.hideInfo.on("click",function(){ta();return!1});g.showInfo.on("click",function(){va();return!1});
g.hideThumbs.on("click",function(){sa();return!1});g.showThumbs.on("click",function(){ua();return!1});g.play.on("click",function(){a.slideshowFullScreen&&(F=!1,b("html").fullScreen(!0));L();return!1});g.pause.on("click",function(){N();return!1});a.slideshowAuto?(g.play.hide(),g.pause.showin()):(g.pause.hide(),g.play.showin());g.next.on("click",function(){M();return!1});Ha();a.thumbsOn?(g.showThumbs.hide(),g.hideThumbs.showin(),w.css({top:0}).removeClass("hide")):(g.hideThumbs.hide(),g.showThumbs.showin(),
w.css({top:-z.outerHeight()-10}).removeClass("hide"));a.infoOn?(g.showInfo.hide(),g.hideInfo.showin(),r.show().css({bottom:0})):(g.hideInfo.hide(),g.showInfo.showin(),r.css({bottom:-r.outerHeight()}).hide());a.fitImage?(g.resize.hide(),g.noresize.showin()):(g.noresize.hide(),g.resize.showin());X.length&&(f.hasClass(c.image)&&!X[0].complete?(X.on("load",function(){X.data("cached",!0);aa()}).attr({src:X.attr("src")}),l=b("<div>",{"class":c.wait}).appendTo(h),l.fadeIn()):(X.data("cached",!0),aa()),Fa(X));
if(b.isFunction(a.enableKeyboard)||a.enableKeyboard)b(window).on("keydown",Ba)}b(window).on("resize",za);if(document.touchMode)b(window).on("orientationchange",za)})};b.fn.turtle.defaults={header:"#main header",slides:"slides",thumbs:"thumbs",linkSlides:!1,loadImg:"blank.png",hash:"fileName",resPath:"res/",relPath:"",level:0,skipIndex:!1,showStart:!0,speed:600,controlbarOpacity:0,controlOutOpacity:0,transitions:!0,preScale:0.95,slideshowDelay:4E3,slideshowLoop:!1,slideshowAuto:!1,slideshowFullScreen:!1,
markNewDays:0,afterLast:"ask",thumbsOn:!1,fitImage:!1,fitShrinkonly:!1,fitFreespace:!0,fitPadding:15,borderWidth:10,clickForNext:!0,rightClickProtect:!1,showImageNumbers:!0,buttonLabels:!1,infoOn:!0,metaOn:!1,mapOn:!1,mapOnIndex:!1,mapOnSlide:!1,mapType:"roadmap",mapZoom:18,mapAll:!1,shopOn:!0,shopGateway:"paypal",shopCurrency:"USD",shareOn:!1,printOn:!1,regionsOn:!1,downloadNonImages:!1,enableKeyboard:!0,enableMouseWheel:!0,videoAuto:!0,videoMaximize:!1,videoTitleOn:!1,prioritizeFlash:!1,scrollDuration:1E3};
b.fn.turtle.texts={startSlideshow:"Start slideshow",close:"Close",atLastPage:"At last page",atLastPageQuestion:"Where to go next?",startOver:"Start over",backToHome:"Back to home",stop:"Stop",upOneLevel:"Up one level",backToIndex:"Back to index page",previousPicture:"Previous picture",nextPicture:"Next picture",oneToOneSize:"1:1 size",fitToScreen:"Fit to screen",showInfo:"Show caption / info",hideInfo:"Hide caption / info",showThumbs:"Show thumbnails",hideThumbs:"Hide thumbnails",startAutoplay:"Start autoplay",
stopAutoplay:"Stop autoplay",closeWindow:"Close window",clickToOpen:"Click to open this document with the associated viewer",download:"Download",original:"Original",hiRes:"Hi res.",saveTip:"Use Right click -> Save link as... to download",commentsBtn:"Comments",commentsLabel:"Add a comment, view other's comments",metaBtn:"Photo data",metaLabel:"Display photograpic (Exif/Iptc) data",mapBtn:"Map",mapLabel:"Show the photo location on map",shopBtn:"Buy",shopLabel:"Show options to buy this item",shareBtn:"Share",
shareLabel:"Share this photo over social sites",locationWarning:"Works only when uploaded"};b.fn.turtle.ids={gallery:"gallery",items:"items",folders:"folders",navigation:"navigation",scrollbox:"scrollbox",active:"active",parent:"parent",bottom:"bottom",img:"img",main:"main",image:"image",video:"video",audio:"audio",other:"other",wait:"wait",cont:"cont",panel:"panel",icon:"icon",caption:"caption",meta:"meta",map:"map",mapcont:"mapcont",mapid:"mapid",shop:"shop",share:"share",print:"print",comments:"comments",
link:"link",custom:"custom",poster:"poster",isoriginal:"isoriginal",content:"content",width:"width",height:"height",src:"src",ext:"ext",thumbExt:"thumbext",regions:"regions",isvideo:"isvideo",isaudio:"isaudio",isother:"isother",modified:"modified",startShow:"startshow",startBtn:"startbtn",startTxt:"starttxt",controls:"controls",prev:"prev",next:"next",up:"up",noresize:"noresize",resize:"resize",hideInfo:"hideinfo",showInfo:"showinfo",hideThumbs:"hidethumbs",showThumbs:"showthumbs",play:"play",pause:"pause",
newItem:"newlabel",showHint:"showhint",load:"load",toload:"toload"}})(jQuery);
